{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///./src/util/helpers.ts","webpack:///./src/vdom/util/listeners.ts","webpack:///./src/vdom/diff/operations.ts","webpack:///./src/vdom/render/add-id.ts","webpack:///./src/vdom/render/modify-render.ts","webpack:///./src/vdom/render/compute-id.ts","webpack:///./src/util/get-proto.ts","webpack:///./src/util/hooks.ts","webpack:///./src/vdom/vnode.ts","webpack:///./src/vdom/diff/list-diff.ts","webpack:///./src/vdom/diff/diff.ts","webpack:///./src/vdom/util/helpers.ts","webpack:///./src/vdom/patch.ts","webpack:///./src/core/component.ts","webpack:///./src/static/components.ts","webpack:///./src/core/iris.ts","webpack:///./src/core/mount.ts","webpack:///./src/index.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","obj","configurable","writable","instance","Constructor","TypeError","_defineProperties","target","props","length","descriptor","protoProps","staticProps","arr","len","arr2","Array","arrayLikeToArray","minLen","toString","slice","constructor","from","test","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","arrayWithHoles","iterableToArrayLimit","nonIterableRest","isArray","iter","iterator","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err","type","replace","isObject","isString","str","isNotEmptyObj","JSON","stringify","objForEach","fn","keys","forEach","arrForEach","ary","eventHandlers","addListener","node","event","handler","capture","addEventListener","id","addId","prefix","components","match","ID","modifyRender","functionReference","functionText","Function","computeId","getProto","component","__proto__","hook","proto","VNode","tagName","children","matchComponent","Iris","find","this","updateProps","render","lastRender","vNode","count","item","index","parent","vApp","vChildComponents","iterateChilrenOf","iteration","$prepared","$root","document","createElement","entries","startsWith","toLocaleLowerCase","setAttribute","child","childDom","createTextNode","appendChild","makeKeyIndexAndFree","list","keyIndex","free","itemKey","getItemKey","diff","oldList","newList","oldMap","newMap","newFree","oldKeyIndex","newKeyIndex","moves","freeIndex","newItemIndex","freeItem","simulateList","remove","removeSimulate","j","simulateItem","simulateItemKey","insert","move","splice","dfsWalk","oNode","nNode","patches","currentPatch","content","propsPatches","isChange","oProps","nProps","propsPatched","diffProps","oChildren","nChildren","diffs","listDiff","leftNode","currentNodeIndex","_item","_index","nChild","diffChildren","oTree","nTree","patch","walker","currentPatches","childNodes","parentNode","replaceChild","staticNodeList","data","toArray","maps","nodeType","getAttribute","removeChild","insertNode","indexOf","insertBefore","reorderChildren","removeAttribute","style","cssText","toLowerCase","setAttr","setProps","textContent","nodeValue","Error","applyPatches","Component","newState","state","assign","forceUpdate","updated","message","callback","Components","items","hasChildren","rawChildren","concat","mount","selector","querySelector","replaceWith","window"],"mappings":"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","file":"iris.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 13);\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;","function type(obj: any) {\n  return Object.prototype.toString.call(obj).replace(/\\[object\\s|\\]/g, '');\n}\n\nfunction isInstantiable(func: any) {\n  return type(func) === 'Function';\n}\n\nfunction isArray(list: any) {\n  return type(list) === 'Array';\n}\n\nfunction isObject(obj: any) {\n  return type(obj) === 'Object';\n}\n\nfunction isString(str: any) {\n  return type(str) === 'String';\n}\n\nfunction isNotEmptyObj(obj: any) {\n  return isObject(obj) && JSON.stringify(obj) != '{}';\n}\n\nfunction objForEach(obj: any, fn: any) {\n  isNotEmptyObj(obj) && Object.keys(obj).forEach(fn);\n}\n\nfunction arrForEach(ary: any, fn: any) {\n  ary.length && ary.forEach(fn);\n}\n\nfunction setAttr(node: any, key: any, value: any) {\n  switch (key) {\n    case 'style':\n      node.style.cssText = value;\n      break;\n    case 'value':\n      var tagName = node.tagName || '';\n      tagName = tagName.toLowerCase();\n      if (tagName === 'input' || tagName === 'textarea') {\n        node.value = value;\n      } else {\n        // if it is not a input or textarea, use `setAttribute` to set\n        node.setAttribute(key, value);\n      }\n      break;\n    default:\n      node.setAttribute(key, value);\n      break;\n  }\n}\n\nfunction toArray(data: any) {\n  if (!data) {\n    return [];\n  }\n  const ary: any = [];\n  arrForEach(data, (item: any) => {\n    ary.push(item);\n  });\n\n  return ary;\n}\n\nexport { isInstantiable, isArray, isObject, isString, isNotEmptyObj, objForEach, arrForEach, setAttr, toArray };\n","var eventHandlers: any = {};\r\n\r\nfunction addListener(node: any, event: any, handler: any, capture = false) {\r\n  if (!(event in eventHandlers)) {\r\n    eventHandlers[event] = [];\r\n  }\r\n\r\n  eventHandlers[event].push({ node: node, handler: handler, capture: capture });\r\n  node.addEventListener(event, handler, capture);\r\n}\r\n\r\nfunction removeAllListeners(targetNode: any, event: any) {\r\n  eventHandlers[event].filter(({ node }: any) => node === targetNode).forEach(({ node, handler, capture }: any) => node.removeEventListener(event, handler, capture));\r\n  eventHandlers[event] = eventHandlers[event].filter(({ node }: any) => node !== targetNode);\r\n}\r\n\r\nexport { addListener, removeAllListeners }\r\n","const REPLACE = 'replace';\nconst REORDER = 'reorder';\nconst PROPS = 'props';\nconst TEXT = 'text';\nconst NOKEY = 'no_key';\n\nexport { REPLACE, REORDER, PROPS, TEXT, NOKEY };\n","var id = 0;\r\n\r\nfunction addId(str: string, prefix: string) {\r\n  const components = str.match(/\\w*Component\\b/g);\r\n  \r\n  if (components) {\r\n    for (var i = 0; i < components.length; i++) {\r\n      const ID = id++;\r\n\r\n      str = str.replace(`${components[i]}, null`, `${components[i]},{id:'${prefix}${ID}'}`);\r\n    }\r\n    for (var i = 0; i < components.length; i++) {\r\n      const ID = id++;\r\n      \r\n      str = str.replace(`${components[i]}, {`, `${components[i]},{id:'${prefix}${ID}',`);\r\n    }\r\n  }\r\n\r\n  return str;\r\n}\r\n\r\nexport default addId;\r\n","import addId from '@/vdom/render/add-id';\r\n\r\nfunction modifyRender(functionReference: any, id: any) {\r\n  var functionText = functionReference.toString().replace('function', 'return function');\r\n  functionText = addId(functionText, id);\r\n\r\n  return Function(functionText)();\r\n}\r\n\r\nexport default modifyRender;\r\n","function computeId(props: IIterable<any>) {\r\n  const id = \r\n    (props && props.id ? props.id : '') + \r\n    (props && props.key ? props.key : '');\r\n  \r\n  return id;\r\n}\r\n\r\nexport default computeId;","import Component from \"@/core/component\";\r\n\r\nexport default function getProto(component: Component) {\r\n  return (component as any).__proto__;\r\n}","import Component from '@/core/component';\r\nimport getProto from './get-proto';\r\n\r\nfunction hook(component: Component, hook: string) {\r\n  const proto = getProto(component);\r\n\r\n  if (!proto) { return; }\r\n\r\n  const event = proto[hook];\r\n\r\n  if (!event) { return; }\r\n\r\n  event.call(component);\r\n}\r\n\r\nexport default hook;\r\n","import { isObject, isString, isInstantiable, isArray, isNotEmptyObj, arrForEach } from '@/util/helpers';\n\nimport { addListener } from '@/vdom/util/listeners';\n\nimport { NOKEY } from '@/vdom/diff/operations';\n\nimport Iris from '@/core/iris';\n\nimport modifyRender from '@/vdom/render/modify-render';\n\nimport computeId from '@/vdom/render/compute-id';\n\nimport Component from '@/core/component';\nimport hook from '@/util/hooks';\n\n/**\n * Virtual Node a.k.a Virtual Tree\n *\n * The core of Iris.\n */\nclass VNode {\n  tagName: string | TInstantiable<Component>;\n  props: IIterable<any> | null;\n  children: VNode[] | string[];\n\n  parent?: VNode;\n\n  key?: string;\n  component?: Component;\n  count: number;\n\n  /**\n   * VNodes can represent both components\n   * and default html elements.\n   * That's why we need to detect whether it needs\n   * a component instance attached to it or not.\n   */\n  constructor(tagName: string | TInstantiable<Component>, props: IIterable<any>, children: VNode[]) {\n    const id = computeId(props);\n\n    /**\n     * If tagName is an instance of Component.\n     */\n    if (isInstantiable(tagName)) {\n      const Constructor: TInstantiable<Component> = tagName as TInstantiable<Component>;\n\n      if (!id) {\n        this.component = new Constructor(props);\n        hook(this.component, 'onInit');\n      } else {\n        const matchComponent = Iris.components.find(id);\n\n        if (matchComponent) {\n          this.component = matchComponent.instance as Component;\n          this.component.updateProps(props);\n        }\n\n        if (!this.component) {\n          this.component = new Constructor(props);\n\n          /**\n           * This may cause some errors.\n           * => needs to be overthought.\n           */\n          hook(this.component, 'onInit');\n\n          Iris.components.push({\n            instance: this.component,\n            id,\n          });\n        }\n      }\n\n      /**\n       * Modifying the render function provided by the user.\n       * Each component declaration gets a specific computed id\n       * based on its path and eventually key.\n       */\n      this.component.render = modifyRender(this.component.render, id);\n\n      this.component.lastRender = this.component.render();\n      this.component.vNode = this;\n\n      /**\n       * Modifying properties if tagName is a Component.\n       * tagName then becomes the wrapper of Component.render()\n       * and children are its rendered children.\n       */\n      tagName = this.component.lastRender.tagName;\n      children = this.component.lastRender.children as VNode[];\n    }\n\n    this.tagName = tagName;\n    this.props = isObject(props) ? props : {};\n\n    this.children = children || (!isNotEmptyObj(this.props) && ((isString(props) && [props]) || (isArray(props) && props))) || [];\n\n    this.key = props ? props.key : void NOKEY;\n\n    /**\n     * Counting children to be able\n     * to identify them whithin a vnode.\n     */\n    var count = 0;\n\n    arrForEach(this.children, (item: VNode, index: number) => {\n      if (item instanceof VNode) {\n        count += item.count;\n      } else {\n        this.children[index] = '' + item;\n      }\n      count++;\n    });\n\n    this.count = count;\n\n    if (this.component) {\n      if (!this.parent) {\n        this.parent = Iris.vApp;\n      }\n\n      /**\n       * So-called chain of child-components.\n       * Serves to find child-parent relations.\n       */\n      var vChildComponents: Component[] = [];\n\n      /**\n       * Iterates through all the children and nested children of ELEMENTS\n       * skiping the children of the components.\n       */\n      const iterateChilrenOf = (iteration: any) => {\n        if (!iteration.children) {\n          return;\n        }\n\n        for (var i = 0; i < iteration.children.length; i++) {\n          if (iteration.children[i].instance) {\n            vChildComponents.push(iteration.children[i]);\n          } else {\n            if (isString(iteration.children[i])) {\n              iterateChilrenOf(iteration.children[i]);\n            }\n          }\n        }\n      };\n\n      /**\n       * Start iteration.\n       */\n      iterateChilrenOf(this);\n\n      /**\n       * All matches are the children of this vNode.\n       */\n      for (var i = 0; i < vChildComponents.length; i++) {\n        vChildComponents[i].parent = this;\n      }\n    }\n\n    /**\n     * The component is ready to be rendered.\n     */\n    if (this.component) {\n      this.component.$prepared = true;\n    }\n  }\n\n  /**\n   * vNode2Element\n   */\n  render(): Element {\n    /**\n     * We know that tagName is now a string, but typescript doesn't.\n     */\n    const $root = document.createElement(this.tagName as string);\n\n    if (this.component) {\n      this.component.$root = $root;\n\n      /**\n       * There's only one case if component doesn't have a parent.\n       * If it's an app itself.\n       */\n      if (!this.parent && Iris.vApp) {\n        this.parent = Iris.vApp;\n      }\n\n    } else {\n      /**\n       * If an attribute starts with 'on', it's an event.\n       */\n      for (const [key, value] of Object.entries(this.props as IIterable<any>)) {\n        if (key.startsWith('on')) {\n          addListener($root, key.replace('on', '').toLocaleLowerCase(), value);\n        } else {\n          $root.setAttribute(key, value);\n        }\n      }\n    }\n\n    /**\n     * Rendering and appending the children.\n     */\n    arrForEach(this.children, (child: VNode | string) => {\n      const childDom = child instanceof VNode ? child.render() : document.createTextNode(child);\n      $root.appendChild(childDom);\n    });\n\n    return $root;\n  }\n}\n\n/**\n * Hyperscript.\n * @param tagName string | Component\n * @param props - { key: value }\n * @param children [string | Component]\n */\nfunction createElement(tagName: string | TInstantiable<Component>, props: IIterable<any>, ...children: VNode[]): VNode {\n  const hasChildren = children.length > 0;\n  const rawChildren = hasChildren ? [].concat(...(children as any)) : [];\n\n  return new VNode(tagName, props, rawChildren);\n}\n\nexport default VNode;\n\nexport { createElement };\n","/**\r\n * Diff two list in O(N).\r\n * @param {Array} oldList - Original List\r\n * @param {Array} newList - List After certain insertions, removes, or moves\r\n * @return {Object} - {moves: <Array>}\r\n *                  - moves is a list of actions that telling how to remove and insert\r\n */\r\n\r\nfunction diff(oldList: any, newList: any, key: any) {\r\n  var oldMap = makeKeyIndexAndFree(oldList, key);\r\n  var newMap = makeKeyIndexAndFree(newList, key);\r\n\r\n  var newFree = newMap.free;\r\n\r\n  var oldKeyIndex: any = oldMap.keyIndex;\r\n  var newKeyIndex: any = newMap.keyIndex;\r\n\r\n  var moves: any = [];\r\n\r\n  // a simulate list to manipulate\r\n  var children = [];\r\n  var i = 0;\r\n  var item;\r\n  var itemKey: any;\r\n  var freeIndex = 0;\r\n\r\n  // fist pass to check item in old list: if it's removed or not\r\n  while (i < oldList.length) {\r\n    item = oldList[i];\r\n    itemKey = getItemKey(item, key);\r\n    if (itemKey) {\r\n      if (!newKeyIndex.hasOwnProperty(itemKey)) {\r\n        children.push(null);\r\n      } else {\r\n        var newItemIndex = newKeyIndex[itemKey];\r\n        children.push(newList[newItemIndex]);\r\n      }\r\n    } else {\r\n      var freeItem = newFree[freeIndex++];\r\n      children.push(freeItem || null);\r\n    }\r\n    i++;\r\n  }\r\n\r\n  var simulateList = children.slice(0);\r\n\r\n  // remove items no longer exist\r\n  i = 0;\r\n  while (i < simulateList.length) {\r\n    if (simulateList[i] === null) {\r\n      remove(i);\r\n      removeSimulate(i);\r\n    } else {\r\n      i++;\r\n    }\r\n  }\r\n\r\n  // i is cursor pointing to a item in new list\r\n  // j is cursor pointing to a item in simulateList\r\n  var j = (i = 0);\r\n  while (i < newList.length) {\r\n    item = newList[i];\r\n    itemKey = getItemKey(item, key);\r\n\r\n    var simulateItem = simulateList[j];\r\n    var simulateItemKey = getItemKey(simulateItem, key);\r\n\r\n    if (simulateItem) {\r\n      if (itemKey === simulateItemKey) {\r\n        j++;\r\n      } else {\r\n        // new item, just inesrt it\r\n        if (!oldKeyIndex.hasOwnProperty(itemKey)) {\r\n          insert(i, item);\r\n        } else {\r\n          // if remove current simulateItem make item in right place\r\n          // then just remove it\r\n          var nextItemKey = getItemKey(simulateList[j + 1], key);\r\n          if (nextItemKey === itemKey) {\r\n            remove(i);\r\n            removeSimulate(j);\r\n            j++; // after removing, current j is right, just jump to next one\r\n          } else {\r\n            // else insert item\r\n            insert(i, item);\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      insert(i, item);\r\n    }\r\n\r\n    i++;\r\n  }\r\n\r\n  function remove(index: any) {\r\n    var move = { index: index, type: 0 };\r\n    moves.push(move);\r\n  }\r\n\r\n  function insert(index: any, item: any) {\r\n    var move = { index: index, item: item, type: 1 };\r\n    moves.push(move);\r\n  }\r\n\r\n  function removeSimulate(index: any) {\r\n    simulateList.splice(index, 1);\r\n  }\r\n\r\n  return {\r\n    moves: moves,\r\n    children: children,\r\n  };\r\n}\r\n\r\n/**\r\n * Convert list to key-item keyIndex object.\r\n * @param {Array} list\r\n * @param {String|Function} key\r\n */\r\nfunction makeKeyIndexAndFree(list: any, key: any) {\r\n  var keyIndex: any = {};\r\n  var free: any = [];\r\n  for (var i = 0, len = list.length; i < len; i++) {\r\n    var item = list[i];\r\n    var itemKey = getItemKey(item, key);\r\n    if (itemKey) {\r\n      keyIndex[itemKey] = i;\r\n    } else {\r\n      free.push(item);\r\n    }\r\n  }\r\n  return {\r\n    keyIndex: keyIndex,\r\n    free: free,\r\n  };\r\n}\r\n\r\nfunction getItemKey(item: any, key: any) {\r\n  if (!item || !key) return void 666;\r\n  return typeof key === 'string' ? item[key] : key(item);\r\n}\r\n\r\nexport default diff;\r\n","import { isString, objForEach, arrForEach, isNotEmptyObj } from '@/util/helpers';\nimport { REPLACE, REORDER, PROPS, TEXT } from '@/vdom/diff/operations';\nimport listDiff from '@/vdom/diff/list-diff';\nimport { isComponent } from '@/vdom/util/helpers';\nimport VNode from '@/vdom/vnode';\n\nfunction diff(oTree: VNode, nTree: VNode) {\n  let index = 0;\n\n  const patches = {};\n  dfsWalk(oTree, nTree, index, patches);\n\n  return patches;\n}\n\nfunction dfsWalk(oNode: VNode, nNode: VNode, index: number, patches: any) {\n  const currentPatch = [];\n\n  if (nNode === null) return;\n\n  if (isString(oNode) && isString(nNode)) {\n    oNode !== nNode &&\n      currentPatch.push({\n        type: TEXT,\n        content: nNode,\n      });\n  } else if (oNode.tagName === nNode.tagName && oNode.key === nNode.key) {\n    if (isNotEmptyObj(oNode.props) || isNotEmptyObj(nNode.props)) {\n      const propsPatches = diffProps(oNode, nNode);\n\n      /**\n       * Blocks properties for the vnodes,\n       * which have instances => are components.\n       * Needs to be changed later.\n       */\n      if (!isComponent(oNode)) {\n        if (propsPatches) {\n          currentPatch.push({\n            type: PROPS,\n            props: propsPatches,\n          });\n        }\n      }\n    }\n    if (!(!isNotEmptyObj(nNode.props) && (nNode.props || {}).hasOwnProperty('ignore'))) {\n      (oNode.children.length || nNode.children.length) && diffChildren(oNode.children as VNode[], nNode.children as VNode[], index, patches, currentPatch);\n    }\n  } else {\n    currentPatch.push({ type: REPLACE, node: nNode });\n  }\n\n  currentPatch.length && (patches[index] = currentPatch);\n}\n\nfunction diffChildren(oChildren: VNode[], nChildren: VNode[], index: number, patches: any, currentPatch: any) {\n  const diffs = listDiff(oChildren, nChildren, 'key');\n\n  nChildren = diffs.children;\n\n  diffs.moves.length && currentPatch.push({ type: REORDER, moves: diffs.moves });\n\n  let leftNode: any = null;\n  let currentNodeIndex = index;\n  arrForEach(oChildren, (_item: VNode, _index: any) => {\n    const nChild: VNode = nChildren[_index];\n    currentNodeIndex = leftNode && leftNode.count ? currentNodeIndex + leftNode.count + 1 : currentNodeIndex + 1;\n    _item !== nChild && dfsWalk(_item, nChild, currentNodeIndex, patches);\n    leftNode = _item;\n  });\n}\n\nfunction diffProps(oNode: VNode, nNode: VNode) {\n  let isChange = false;\n  const oProps: IIterable<any> = oNode.props || {};\n  const nProps: IIterable<any> = nNode.props || {};\n\n  const propsPatched: IIterable<any> = {};\n\n  objForEach(oProps, (key: string) => {\n    if (nProps[key] !== oProps[key] || !oProps.hasOwnProperty(key)) {\n      !isChange && (isChange = true);\n      propsPatched[key] = nProps[key];\n    }\n  });\n\n  return !isChange ? null : propsPatched;\n}\n\nexport default diff;\n","import VNode from '@/vdom/vnode';\r\n\r\nfunction isComponent(vNode: VNode) {\r\n  return !!vNode.component;\r\n}\r\n\r\nexport { isComponent };\r\n","import { isString, isObject, objForEach, arrForEach, setAttr, toArray } from '@/util/helpers';\nimport { REPLACE, REORDER, PROPS, TEXT, NOKEY } from '@/vdom/diff/operations';\n\nfunction patch(node: any, patches: any) {\n  const walker = { index: 0 };\n  dfsWalk(node, walker, patches);\n}\n\nfunction dfsWalk(node: any, walker: any, patches: any) {\n  const currentPatches = patches[walker.index];\n\n  node.childNodes &&\n    arrForEach(node.childNodes, (item: any) => {\n      walker.index++;\n      dfsWalk(item, walker, patches);\n    });\n\n  currentPatches && applyPatches(node, currentPatches);\n}\n\nfunction applyPatches(node: any, currentPatches: any) {\n  arrForEach(currentPatches, (item: any) => {\n    switch (item.type) {\n      case REPLACE:\n        const nNode = isString(item.node) ? document.createTextNode(item.node) : item.node.render();\n        node.parentNode.replaceChild(nNode, node);\n        break;\n      case REORDER:\n        reorderChildren(node, item.moves);\n        break;\n      case PROPS:\n        setProps(node, item.props);\n        break;\n      case TEXT:\n        if (node.textContent) {\n          node.textContent = item.content;\n        } else {\n          node.nodeValue = item.content;\n        }\n        break;\n      default:\n        throw new Error('Unknown patch type ' + item.type);\n    }\n  });\n}\n\nfunction setProps(node: any, props: any) {\n  objForEach(props, (key: any) => {\n    if (props[key] === void NOKEY) {\n      node.removeAttribute(key);\n    } else {\n      setAttr(node, key, props[key]);\n    }\n  });\n}\n\nfunction reorderChildren(node: any, moves: any) {\n  const staticNodeList = toArray(node.childNodes);\n  const maps: any = {};\n\n  arrForEach(staticNodeList, (node: any) => {\n    if (node.nodeType === 1) {\n      const key = node.getAttribute('key') as string;\n      key && (maps[key] = node);\n    }\n  });\n\n  arrForEach(moves, (move: any) => {\n    const index = move.index;\n    if (move.type === 0) {\n      if (!node.childNodes[index]) return;\n      staticNodeList[index] === node.childNodes[index] && node.removeChild(node.childNodes[index]);\n      staticNodeList.splice(index, 1);\n    } else if (move.type === 1) {\n      var insertNode;\n      if (maps[move.item.key]) {\n        insertNode = node.removeChild(maps[move.item.key]);\n        staticNodeList.splice(Array.prototype.indexOf.call(node.childNodes, maps[move.item.key]), 1);\n      } else {\n        insertNode = isObject(move.item) ? move.item.render() : document.createTextNode(move.item);\n      }\n      staticNodeList.splice(index, 0, insertNode);\n      node.insertBefore(insertNode, node.childNodes[index] || null);\n    }\n  });\n}\n\nexport default patch;\n","import getProto from '@/util/get-proto';\r\nimport VNode from '@/vdom/vnode';\r\n\r\nimport diff from '@/vdom/diff/diff';\r\nimport patch from '@/vdom/patch';\r\n\r\n/**\r\n * Iris.Component\r\n *\r\n * The core of Iris.\r\n */\r\nabstract class Component {\r\n\r\n  /**\r\n   * We don't trust the user.\r\n   * Everything might be undefined.\r\n   */\r\n  id?: string;\r\n  props?: IIterable<any>;\r\n  state?: IIterable<any>;\r\n\r\n  lastRender?: VNode;\r\n  $root?: Element;\r\n\r\n  vNode?: VNode;\r\n  parent?: VNode;\r\n\r\n  $prepared: boolean = false;\r\n\r\n  /**\r\n   * Hyperscript.\r\n   */\r\n  abstract render(): VNode;\r\n\r\n  /**\r\n   * Hooks.\r\n   */\r\n  abstract onInit(): void;\r\n\r\n  constructor(props: IIterable<any>) {\r\n    this.props = props;\r\n  }\r\n\r\n  /**\r\n   * Updates the states, re-renders the component.\r\n   */\r\n  setState(newState: IIterable<any>) {\r\n    this.state = Object.assign(this.state, newState);\r\n\r\n    if (this.$prepared) {\r\n      this.forceUpdate();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Force update as soon as the state gets updated.\r\n   */\r\n  forceUpdate() {\r\n    const updated = this.render();\r\n    const patches = diff(this.lastRender as VNode, updated);\r\n\r\n    this.lastRender = updated;\r\n\r\n    patch(this.$root, patches);\r\n  }\r\n\r\n  /**\r\n   * Updating props every time the component\r\n   * needs to be re-rendered.\r\n   */\r\n  updateProps(props: IIterable<any>) {\r\n    this.props = props;\r\n  }\r\n\r\n  /**\r\n   * Sends a message to the parent.\r\n   * \r\n   * @param event function name\r\n   * @param message js-object\r\n   */\r\n  dispatch(event: string, message: IIterable<any> | any) {\r\n    if (!this.vNode || !this.vNode.parent) { return; }\r\n\r\n    const parent = this.vNode.parent.component;\r\n\r\n    if (!parent) { return; }\r\n\r\n    const callback = getProto(parent)[event];\r\n\r\n    if (!callback) { return; }\r\n\r\n    callback.call(parent, message);\r\n  }\r\n}\r\n\r\nexport default Component;\r\n","import Component from \"@/core/component\";\r\n\r\ninterface IComponent {\r\n  instance: Component;\r\n  id: number;\r\n}\r\n\r\nclass Components {\r\n  items: IComponent[];\r\n\r\n  constructor() {\r\n    this.items = [];\r\n  }\r\n\r\n  push(component: IComponent) {\r\n    this.items.push(component);\r\n  }\r\n\r\n  find(id: number): IComponent | undefined {\r\n    return this.items.find(component => component.id === id);\r\n  }\r\n}\r\n\r\nexport default Components;\r\n","/**\r\n * Iris.js - a modern lightweight minimalist javascript\r\n *  framework for creating user interfaces.\r\n */\r\nimport VNode, { createElement } from '@/vdom/vnode';\r\nimport Component from '@/core/component';\r\nimport Components from '@/static/components';\r\nimport mount from '@/core/mount';\r\n\r\n/**\r\n * The core of Iris.\r\n */\r\nclass Iris {\r\n  /**\r\n   * The storage of instantiated components.\r\n   */\r\n  static components: Components;\r\n\r\n  /**\r\n   * Component class for inheritance\r\n   * @example class App extends Iris.Component {\r\n   * }\r\n   */\r\n  static Component: typeof Component;\r\n\r\n  /**\r\n   * The accessor to hyperscript.\r\n   */\r\n  static createElement: (\r\n    tagName: string | TInstantiable<Component>,\r\n    props: IIterable<any>,\r\n    children: any\r\n  ) => VNode;\r\n\r\n  /**\r\n   * The virtual app.\r\n   * Later needs to be extended to an array.\r\n   */\r\n  static vApp: VNode;\r\n\r\n  /**\r\n   * Mount the application.\r\n   */\r\n  static mount: (vApp: VNode, selector: string) => VNode;\r\n}\r\n\r\nIris.components = new Components();\r\nIris.Component = Component;\r\nIris.createElement = createElement;\r\nIris.mount = mount;\r\n\r\nexport default Iris;\r\n","import VNode from '@/vdom/vnode';\r\nimport Iris from '@/core/iris';\r\n\r\nexport default function mount(vApp: VNode, selector: string) {\r\n  Iris.vApp = vApp;\r\n\r\n  const target = document.querySelector(selector);\r\n  const $root = vApp.render();\r\n\r\n  if (target) {\r\n    target.replaceWith($root);\r\n  }\r\n\r\n  return vApp;\r\n}\r\n","import Iris from '@/core/iris';\r\n\r\nwindow.Iris = Iris;"],"sourceRoot":""}