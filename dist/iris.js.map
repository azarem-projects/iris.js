{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./src/util/declare-globally.ts","webpack:///./src/util/helpers.ts","webpack:///./src/vdom/util/listeners.ts","webpack:///./src/vdom/render/util/extract-hyperscript-name.ts","webpack:///./src/util/string/count-matches.ts","webpack:///./src/vdom/render/add-id.ts","webpack:///./src/vdom/render/modify-render.ts","webpack:///./src/util/get-proto.ts","webpack:///./src/vdom/diff/list-diff.ts","webpack:///./src/vdom/diff/diff.ts","webpack:///./src/vdom/diff/operations.ts","webpack:///./src/vdom/util/helpers.ts","webpack:///./src/vdom/patch.ts","webpack:///./src/util/hooks.ts","webpack:///./src/core/component.ts","webpack:///./src/vdom/util/ids-keys.ts","webpack:///./src/util/get-prototype.ts","webpack:///./src/vdom/util/extend.ts","webpack:///./src/util/string/replace-all.ts","webpack:///./src/util/string/modifying.ts","webpack:///./src/parse/util/is-valid.ts","webpack:///./src/parse/util/get-prop-type.ts","webpack:///./src/parse/util/extract-loop-params.ts","webpack:///./src/parse/util/property-cases.ts","webpack:///./src/parse/compute-properties.ts","webpack:///./src/parse/util/remove-self-closing-tags.ts","webpack:///./src/parse/util/mark-props.ts","webpack:///./src/parse/index.ts","webpack:///./src/vdom/vnode.ts","webpack:///./src/vdom/createElement.ts","webpack:///./src/plugins/plugin.ts","webpack:///./src/static/components.ts","webpack:///./src/plugins/install.ts","webpack:///./src/core/function-cache.ts","webpack:///./src/static/empty.ts","webpack:///./src/core/iris.ts","webpack:///./src/core/mount.ts","webpack:///./src/debug/index.ts","webpack:///./src/plugins/examples/state-manager.ts","webpack:///./src/plugins/examples/ajax.ts","webpack:///./src/plugins/examples/router/util/get-url.ts","webpack:///./src/plugins/examples/router/handleNavigation.ts","webpack:///./src/plugins/examples/router/view.ts","webpack:///./src/plugins/examples/router/index.ts","webpack:///./src/index.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","obj","configurable","writable","instance","Constructor","TypeError","_defineProperties","target","props","length","descriptor","protoProps","staticProps","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","arr","subClass","superClass","constructor","_typeof","assertThisInitialized","self","arrayWithoutHoles","iterableToArray","nonIterableSpread","ReferenceError","len","arr2","Array","arrayLikeToArray","minLen","toString","slice","from","test","isArray","iter","iterator","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err","_setPrototypeOf","declareGlobally","item","window","type","replace","isObject","isString","str","isNotEmptyObj","JSON","stringify","objForEach","fn","keys","forEach","arrForEach","ary","eventHandlers","addListener","node","event","handler","capture","addEventListener","extractHyperscriptName","i_0","indexOf","i_1","resultFromArgs","substring","j_0","j_1","countMatches","sub","split","addId","input","hyperscriptFunctionName","components","_split","includes","j","modifyRender","functionReference","functionText","join","Function","getProto","component","makeKeyIndexAndFree","list","keyIndex","free","itemKey","getItemKey","diff","oldList","newList","oldMap","newMap","newFree","oldKeyIndex","newKeyIndex","moves","children","freeIndex","newItemIndex","freeItem","simulateList","remove","removeSimulate","simulateItem","simulateItemKey","insert","index","move","splice","dfsWalk","oNode","nNode","patches","currentPatch","content","tagName","propsPatches","isChange","oProps","nProps","propsPatched","diffProps","oChildren","nChildren","diffs","listDiff","leftNode","currentNodeIndex","_item","_index","nChild","count","diffChildren","oTree","nTree","patch","walker","currentPatches","childNodes","document","createTextNode","render","parentNode","replaceChild","staticNodeList","data","toArray","maps","nodeType","getAttribute","removeChild","insertNode","insertBefore","reorderChildren","removeAttribute","style","cssText","toLowerCase","setAttribute","checked","setAttr","setProps","textContent","nodeValue","Error","applyPatches","hook","options","proto","apply","arguments","Component","this","childEvents","newState","state","assign","$onInitFired","forceUpdate","updated","$render","Iris","createElement","lastRender","$root","entries","message","parent","callbackName","find","childEvent","parentEvent","startsWith","variable","setState","callback","extractKeyIdPair","_id","getPrototype","extend","image","bunch","getOwnPropertyNames","replaceAll","result","what","prepend","append","wrap","isValid","getPropType","dynamic","loop","model","conditional","customEvent","extractLoopParams","firstPart","trim","hasUpperCase","markUpperCase","toUpperCase","restoreUpperCase","capitalized","firstChar","charAt","computeProperties","el","output","handledResult","attributes","modifier","prevent","stop","inputType","matchEvent","text","checkbox","matchValue","propString","removeSelfClosingTags","html","endSplit","startSplit","markProps","match","map","marked","prop","original","TEMPLATE","stringToHyperscript","context","innerHTML","iterate","child","firstElementChild","VNode","matchComponent","init","extendScope","toInject","renderResult","vNode","isComponent","vApp","attribute","exists","toLocaleLowerCase","childDom","appendChild","Boolean","hasChildren","rawChildren","concat","Plugin","Components","items","predicate","findIndex","id","install","plugin","injectIntoComponent","injectIntoIris","arraysMatch","arr1","FunctionCache","args","cached","variations","Empty","h","cache","mount","element","querySelector","additional","replaceWith","console","error","$prepared","StateManager","initialState","$store","Ajax","Promise","resolve","reject","xhttp","XMLHttpRequest","onreadystatechange","readyState","status","parse","responseText","url","responseURL","open","method","send","$ajax","request","getUrl","baseUrl","location","href","origin","handleNavigation","leavingComponent","route","Router","enteringComponent","View","pushState","history","onpopstate","$router","routes","view","path","getUnique","go"],"mappings":"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","file":"iris.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 19);\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","function declareGlobally(item: any, name: string) {\n  window[name] = item;\n}\n\nexport default declareGlobally;\n","function type(obj: any) {\n  return Object.prototype.toString.call(obj).replace(/\\[object\\s|\\]/g, '');\n}\n\nfunction isInstantiable(func: any) {\n  return type(func) === 'Function';\n}\n\nfunction isArray(list: any) {\n  return type(list) === 'Array';\n}\n\nfunction isObject(obj: any) {\n  return type(obj) === 'Object';\n}\n\nfunction isString(str: any) {\n  return type(str) === 'String';\n}\n\nfunction isNotEmptyObj(obj: any) {\n  return isObject(obj) && JSON.stringify(obj) != '{}';\n}\n\nfunction objForEach(obj: any, fn: any) {\n  isNotEmptyObj(obj) && Object.keys(obj).forEach(fn);\n}\n\nfunction arrForEach(ary: any, fn: any) {\n  ary.length && ary.forEach(fn);\n}\n\nfunction setAttr(node: any, key: any, value: any) {\n  switch (key) {\n    case 'style':\n      node.style.cssText = value;\n      break;\n    case 'value':\n      var tagName = node.tagName || '';\n      tagName = tagName.toLowerCase();\n      if (tagName === 'input' || tagName === 'textarea') {\n        node.value = value;\n      } else {\n        // if it is not a input or textarea, use `setAttribute` to set\n        node.setAttribute(key, value);\n      }\n      break;\n    case 'checked':\n      if (value === true) {\n        node.setAttribute(key, 'true');\n        node.checked = true;\n      } else {\n        node.removeAttribute(key);\n        node.checked = false;\n      }\n      break;\n    default:\n      node.setAttribute(key, value);\n      break;\n  }\n}\n\nfunction toArray(data: any) {\n  if (!data) {\n    return [];\n  }\n  const ary: any = [];\n  arrForEach(data, (item: any) => {\n    ary.push(item);\n  });\n\n  return ary;\n}\n\nexport { isInstantiable, isArray, isObject, isString, isNotEmptyObj, objForEach, arrForEach, setAttr, toArray };\n","var eventHandlers: any = {};\n\nfunction addListener(node: any, event: any, handler: any, capture = false) {\n  if (!(event in eventHandlers)) {\n    eventHandlers[event] = [];\n  }\n\n  eventHandlers[event].push({ node: node, handler: handler, capture: capture });\n  node.addEventListener(event, handler, capture);\n}\n\nfunction removeAllListeners(targetNode: any, event: any) {\n  eventHandlers[event].filter(({ node }: any) => node === targetNode).forEach(({ node, handler, capture }: any) => node.removeEventListener(event, handler, capture));\n  eventHandlers[event] = eventHandlers[event].filter(({ node }: any) => node !== targetNode);\n}\n\nexport { addListener, removeAllListeners }\n","function extractHyperscriptName(str: string) {\n  const i_0 = str.indexOf('render(');\n  const i_1 = str.indexOf(')', i_0);\n\n  const resultFromArgs = str.substring(i_0, i_1).replace('render(', '');\n\n  if (resultFromArgs) {\n    return resultFromArgs.replace('return function(', '');\n  }\n  \n  const j_0 = str.indexOf('return ', i_0);\n  const j_1 = str.indexOf('(', j_0);\n  \n  const resultFromUsage = str.substring(j_0, j_1).replace('return ', '');\n\n  return resultFromUsage;\n}\n\nexport default extractHyperscriptName;\n","function countMatches(str: string, sub: string) {\n  return str.split(sub).length - 1;\n}\n\nexport default countMatches;\n","import extractHyperscriptName from './util/extract-hyperscript-name';\nimport countMatches from '@/util/string/count-matches';\n\n/**\n * Needs to be completely redone. \n */\nfunction addId(input: string, name: string, key: string) {\n  const hyperscriptFunctionName = extractHyperscriptName(input);\n  const split = input.split(`${hyperscriptFunctionName}(`);\n  const components: string[] = [];\n\n  for (var i = 0; i < split.length; i++) {\n    const _split = split[i].split(',')[0];    \n    \n    if (!(countMatches(_split, ' ') > 1) && !_split.includes(\"'\") && !_split.includes(\"\\\"\") && !_split.includes(\"`\")) {\n      components.push(_split);\n    }\n  }\n\n  if (components) {\n    /** \n     * Attempt to exclude keys.\n     */\n    for (var i = 0; i < components.length; i++) {\n\n      for (var j = 0; j < countMatches(input, `${components[i]}, null`); j++) {\n        input = input.replace(`${components[i]}, null`, `${components[i]},{parent:{key:'${key}',name:'${name}'}}`);\n      }\n\n      for (var j = 0; j < countMatches(input, `${components[i]},null`); j++) {\n        input = input.replace(`${components[i]},null`, `${components[i]},{parent:{key:'${key}',name:'${name}'}}`);\n      }\n\n      for (var j = 0; j < countMatches(input, `${components[i]}, {`); j++) {\n        input = input.replace(`${components[i]}, {`, `${components[i]},{parent:{key:'${key}',name:'${name}'},`);\n      }\n\n      for (var j = 0; j < countMatches(input, `${components[i]},{`); j++) {\n        input = input.replace(`${components[i]},{`, `${components[i]},{parent:{key:'${key}',name:'${name}'},`);\n      }\n    }\n  }\n\n  return input;\n}\n\nexport default addId;\n","import addId from '@/vdom/render/add-id';\n\n/**\n * If user has defined a key by himself, we need\n * to prevent the function from doing that.\n * \n * Cache works pretty well, but not for this function.\n * It's just not about caching => needs to be redone.\n */\nfunction modifyRender(functionReference: any, name: string, key: any) {\n  var functionText = functionReference.toString().replace('function', 'return function');\n  \n  if (!functionText.includes('return function')) {\n    functionText = `return function ${functionText}`;\n  }\n  \n  functionText = addId(functionText, name, key);\n\n  functionText = functionText.split('return').join('var ___mod;return');\n\n  return Function(functionText)();\n}\n\nexport default modifyRender;\n","import Component from \"@/core/component\";\n\nexport default function getProto(component: Component) {\n  return (component as any).__proto__;\n}","/**\n * Diff two list in O(N).\n * @param {Array} oldList - Original List\n * @param {Array} newList - List After certain insertions, removes, or moves\n * @return {Object} - {moves: <Array>}\n *                  - moves is a list of actions that telling how to remove and insert\n */\n\nfunction diff(oldList: any, newList: any, key: any) {\n  var oldMap = makeKeyIndexAndFree(oldList, key);\n  var newMap = makeKeyIndexAndFree(newList, key);\n\n  var newFree = newMap.free;\n\n  var oldKeyIndex: any = oldMap.keyIndex;\n  var newKeyIndex: any = newMap.keyIndex;\n\n  var moves: any = [];\n\n  // a simulate list to manipulate\n  var children = [];\n  var i = 0;\n  var item;\n  var itemKey: any;\n  var freeIndex = 0;\n\n  // fist pass to check item in old list: if it's removed or not\n  while (i < oldList.length) {\n    item = oldList[i];\n    itemKey = getItemKey(item, key);\n    if (itemKey) {\n      if (!newKeyIndex.hasOwnProperty(itemKey)) {\n        children.push(null);\n      } else {\n        var newItemIndex = newKeyIndex[itemKey];\n        children.push(newList[newItemIndex]);\n      }\n    } else {\n      var freeItem = newFree[freeIndex++];\n      children.push(freeItem || null);\n    }\n    i++;\n  }\n\n  var simulateList = children.slice(0);\n\n  // remove items no longer exist\n  i = 0;\n  while (i < simulateList.length) {\n    if (simulateList[i] === null) {\n      remove(i);\n      removeSimulate(i);\n    } else {\n      i++;\n    }\n  }\n\n  // i is cursor pointing to a item in new list\n  // j is cursor pointing to a item in simulateList\n  var j = (i = 0);\n  while (i < newList.length) {\n    item = newList[i];\n    itemKey = getItemKey(item, key);\n\n    var simulateItem = simulateList[j];\n    var simulateItemKey = getItemKey(simulateItem, key);\n\n    if (simulateItem) {\n      if (itemKey === simulateItemKey) {\n        j++;\n      } else {\n        // new item, just inesrt it\n        if (!oldKeyIndex.hasOwnProperty(itemKey)) {\n          insert(i, item);\n        } else {\n          // if remove current simulateItem make item in right place\n          // then just remove it\n          var nextItemKey = getItemKey(simulateList[j + 1], key);\n          if (nextItemKey === itemKey) {\n            remove(i);\n            removeSimulate(j);\n            j++; // after removing, current j is right, just jump to next one\n          } else {\n            // else insert item\n            insert(i, item);\n          }\n        }\n      }\n    } else {\n      insert(i, item);\n    }\n\n    i++;\n  }\n\n  function remove(index: any) {\n    var move = { index: index, type: 0 };\n    moves.push(move);\n  }\n\n  function insert(index: any, item: any) {\n    var move = { index: index, item: item, type: 1 };\n    moves.push(move);\n  }\n\n  function removeSimulate(index: any) {\n    simulateList.splice(index, 1);\n  }\n\n  return {\n    moves: moves,\n    children: children,\n  };\n}\n\n/**\n * Convert list to key-item keyIndex object.\n * @param {Array} list\n * @param {String|Function} key\n */\nfunction makeKeyIndexAndFree(list: any, key: any) {\n  var keyIndex: any = {};\n  var free: any = [];\n  for (var i = 0, len = list.length; i < len; i++) {\n    var item = list[i];\n    var itemKey = getItemKey(item, key);\n    if (itemKey) {\n      keyIndex[itemKey] = i;\n    } else {\n      free.push(item);\n    }\n  }\n  return {\n    keyIndex: keyIndex,\n    free: free,\n  };\n}\n\nfunction getItemKey(item: any, key: any) {\n  if (!item || !key) return void 666;\n  return typeof key === 'string' ? item[key] : key(item);\n}\n\nexport default diff;\n","import { isString, objForEach, arrForEach, isNotEmptyObj } from '@/util/helpers';\nimport { REPLACE, REORDER, PROPS, TEXT } from '@/vdom/diff/operations';\nimport listDiff from '@/vdom/diff/list-diff';\nimport { isComponent } from '@/vdom/util/helpers';\nimport VNode from '@/vdom/vnode';\n\nfunction diff(oTree: VNode, nTree: VNode) {\n  let index = 0;\n\n  const patches = {};\n  dfsWalk(oTree, nTree, index, patches);\n\n  return patches;\n}\n\nfunction dfsWalk(oNode: VNode, nNode: VNode, index: number, patches: any) {\n  const currentPatch: any[] = [];\n\n  if (nNode === null) return;\n\n  if (isString(oNode) && isString(nNode)) {\n    oNode !== nNode &&\n      currentPatch.push({\n        type: TEXT,\n        content: nNode,\n      });\n  } else if (oNode.tagName === nNode.tagName && oNode.key === nNode.key) {\n    if (isNotEmptyObj(oNode.props) || isNotEmptyObj(nNode.props)) {\n      const propsPatches = diffProps(oNode, nNode);\n\n      /**\n       * Blocks properties for the vnodes,\n       * which have instances => are components.\n       * Needs to be changed later.\n       */\n      if (!isComponent(oNode)) {\n        if (propsPatches) {\n          currentPatch.push({\n            type: PROPS,\n            props: propsPatches,\n          });\n        }\n      }\n    }\n    if (!(!isNotEmptyObj(nNode.props) && (nNode.props || {}).hasOwnProperty('ignore'))) {\n      (oNode.children.length || nNode.children.length) && diffChildren(oNode.children as VNode[], nNode.children as VNode[], index, patches, currentPatch);\n    }\n  } else {\n    currentPatch.push({ type: REPLACE, node: nNode });\n  }\n\n  currentPatch.length && (patches[index] = currentPatch);\n}\n\nfunction diffChildren(oChildren: VNode[], nChildren: VNode[], index: number, patches: any, currentPatch: any) {\n\n  /**\n   * If a text node becomes empty we want to prevent it from being removed.\n   */\n  for (var i = 0; i < oChildren.length; i++) {\n    if (isString(oChildren[i])) {\n      if (!nChildren[i]) {\n        nChildren[i] = ' ' as any;\n      }\n    }\n  }\n\n  const diffs = listDiff(oChildren, nChildren, 'key');\n\n  nChildren = diffs.children;\n\n  diffs.moves.length && currentPatch.push({ type: REORDER, moves: diffs.moves });\n\n  let leftNode: any = null;\n  let currentNodeIndex = index;\n  arrForEach(oChildren, (_item: VNode, _index: any) => {\n    const nChild: VNode = nChildren[_index];\n\n    currentNodeIndex = leftNode && leftNode.count ? currentNodeIndex + leftNode.count + 1 : currentNodeIndex + 1;\n    _item !== nChild && dfsWalk(_item, nChild, currentNodeIndex, patches);\n    leftNode = _item;\n  });\n}\n\nfunction diffProps(oNode: VNode, nNode: VNode) {\n  let isChange = false;\n  const oProps: IIterable<any> = oNode.props || {};\n  const nProps: IIterable<any> = nNode.props || {};\n\n  const propsPatched: IIterable<any> = {};\n\n  objForEach(oProps, (key: string) => {\n    if (nProps[key] !== oProps[key] || !oProps.hasOwnProperty(key)) {\n      !isChange && (isChange = true);\n      propsPatched[key] = nProps[key];\n    }\n  });\n\n  return !isChange ? null : propsPatched;\n}\n\nexport default diff;\n","const REPLACE = 'replace';\nconst REORDER = 'reorder';\nconst PROPS = 'props';\nconst TEXT = 'text';\nconst NOKEY = 'no_key';\n\nexport { REPLACE, REORDER, PROPS, TEXT, NOKEY };\n","import VNode from '@/vdom/vnode';\n\nfunction isComponent(vNode: VNode) {\n  return !!vNode.component;\n}\n\nexport { isComponent };\n","import { isString, isObject, objForEach, arrForEach, setAttr, toArray } from '@/util/helpers';\nimport { REPLACE, REORDER, PROPS, TEXT, NOKEY } from '@/vdom/diff/operations';\n\nfunction patch(node: any, patches: any) {\n  const walker = { index: 0 };\n  dfsWalk(node, walker, patches);\n}\n\nfunction dfsWalk(node: any, walker: any, patches: any) {\n  const currentPatches = patches[walker.index];\n\n  node.childNodes &&\n    arrForEach(node.childNodes, (item: any) => {\n      walker.index++;\n      dfsWalk(item, walker, patches);\n    });\n\n  currentPatches && applyPatches(node, currentPatches);\n}\n\nfunction applyPatches(node: any, currentPatches: any) {\n  arrForEach(currentPatches, (item: any) => {\n    switch (item.type) {\n      case REPLACE:\n        const nNode = isString(item.node) ? document.createTextNode(item.node) : item.node.render();\n        node.parentNode.replaceChild(nNode, node);\n        break;\n      case REORDER:\n        reorderChildren(node, item.moves);\n        break;\n      case PROPS:\n        setProps(node, item.props);\n        break;\n      case TEXT:\n        if (node.textContent) {\n          node.textContent = item.content;\n        } else {\n          node.nodeValue = item.content;\n        }\n        break;\n      default:\n        throw new Error('Unknown patch type ' + item.type);\n    }\n  });\n}\n\nfunction setProps(node: any, props: any) {\n  objForEach(props, (key: any) => {\n    if (props[key] === void NOKEY) {\n      node.removeAttribute(key);\n    } else {\n      setAttr(node, key, props[key]);\n    }\n  });\n}\n\nfunction reorderChildren(node: any, moves: any) {\n  const staticNodeList = toArray(node.childNodes);\n  const maps: any = {};\n\n  arrForEach(staticNodeList, (node: any) => {\n    if (node.nodeType === 1) {\n      const key = node.getAttribute('key') as string;\n      key && (maps[key] = node);\n    }\n  });\n\n  arrForEach(moves, (move: any) => {\n    const index = move.index;\n    if (move.type === 0) {\n      if (!node.childNodes[index]) return;\n      staticNodeList[index] === node.childNodes[index] && node.removeChild(node.childNodes[index]);\n      staticNodeList.splice(index, 1);\n    } else if (move.type === 1) {\n      var insertNode;\n      if (maps[move.item.key]) {\n        insertNode = node.removeChild(maps[move.item.key]);\n        staticNodeList.splice(Array.prototype.indexOf.call(node.childNodes, maps[move.item.key]), 1);\n      } else {\n        insertNode = isObject(move.item) ? move.item.render() : document.createTextNode(move.item);\n      }\n      staticNodeList.splice(index, 0, insertNode);\n      node.insertBefore(insertNode, node.childNodes[index] || null);\n    }\n  });\n}\n\nexport default patch;\n","import Component from '@/core/component';\nimport getProto from '@/util/get-proto';\n\ninterface IHookOptions {\n  arguments: any[];\n}\n\nfunction hook(component: Component, hook: string, options?: IHookOptions) {\n  const proto = getProto(component);\n\n  if (!proto) { return; }\n\n  const event = proto[hook];\n\n  if (!event) { return; }\n  \n  (event as (...args: []) => void).apply(component, options?.arguments as [] || []);\n\n  (component as IIterable<any>)[`$${hook}Fired`] = true;\n}\n\nconst ON_INIT = 'onInit';\nconst ON_ENTER = 'onEnter';\nconst BEFORE_RENDER = 'beforeRender';\n\nexport { ON_INIT, ON_ENTER, BEFORE_RENDER };\n\nexport default hook;\n","import getProto from '@/util/get-proto';\nimport VNode from '@/vdom/vnode';\n\nimport diff from '@/vdom/diff/diff';\nimport patch from '@/vdom/patch';\nimport Iris from './iris';\nimport hook from '@/util/hooks';\n\n/**\n * Iris.Component\n *\n * The core of Iris.\n */\nabstract class Component {\n  /**\n   * We don't trust the user.\n   * Everything might be undefined.\n   */\n  id?: string;\n  props?: IIterable<any> | undefined | null;\n  state?: IIterable<any>;\n\n  lastRender?: VNode;\n  $root?: Element;\n\n  vNode?: VNode;\n  parent?: Component;\n\n  $onInitFired: boolean = false;\n\n  childEvents: IChildEvent[] = [];\n\n  /**\n   * Hyperscript.\n   */\n  abstract $render(h?: THyperscript): VNode | void;\n  abstract render(h?: THyperscript): VNode | string | void;\n\n  /**\n   * Hooks.\n   */\n  onInit() {}\n\n  init() {\n    this.childEvents = [];\n  }\n\n  /**\n   * Updates the states, re-renders the component.\n   */\n  setState(newState: IIterable<any>) {\n    this.state = Object.assign(this.state, newState);\n\n    if (this.$onInitFired) {\n      this.forceUpdate();\n    }\n  }\n\n  /**\n   * Force update as soon as the state gets updated.\n   */\n  forceUpdate() {\n    const updated = this.$render(Iris.createElement as THyperscript) as VNode;    \n    const patches = diff(this.lastRender as VNode, updated);\n\n    this.lastRender = updated;\n\n    patch(this.$root, patches);\n\n    hook(this, 'onUpdate');\n  }\n\n  /**\n   * Updating props every time the component\n   * needs to be re-rendered.\n   */\n  setProps(props: IIterable<any> | undefined | null) {\n    this.props = props;\n  }\n\n  /**\n   * Extending \"this\"-scope of the component.\n   */\n  extendScope(this: IIterable<any>, item: IIterable<any>) {\n    for (const [key, value] of Object.entries(item)) {\n      this[key] = value;\n    }\n  }\n\n  /**\n   * Sends a message to the parent.\n   */\n  dispatch(event: string, message: IIterable<any> | any) {    \n    if (!this.parent) { return; }\n\n    const callbackName = this.parent.childEvents.find(item => item.childEvent === event)?.parentEvent;\n    \n    if (!callbackName) { return; }\n\n    if (callbackName.startsWith('set-')) {\n      const variable = callbackName.replace('set-', '');\n\n      this.parent.setState({ [variable]: message });\n    } else {\n      const callback = getProto(this.parent)[callbackName];\n  \n      if (!callback) { return; }\n  \n      callback.call(this.parent, message);\n    }\n  }\n}\n\nexport default Component;\n","function extractKeyIdPair(props: IIterable<any> | undefined | null) {\n  const _id = props && props._id ? props._id.toString() : '0';\n  const key = props && props.key ? props.key.toString() : '0';\n  const parent = props && props.parent ? props.parent : { _id: '0', key: '0' };\n\n  return { _id, key, parent }\n}\n\nexport default extractKeyIdPair;\n","import Component from \"@/core/component\";\n\nexport default function getPrototype<T>(component: any): T {\n  return (component as any).prototype;\n}","function extend(target: any, image: any) {\n  if (!target || !image) return;\n\n  const bunch = [\n    ...Object.getOwnPropertyNames(image),\n    ...Object.keys(image)\n  ]\n\n  for (var i = 0; i < bunch.length; i++) {\n    const key = bunch[i];\n\n    if (!target[key]) {\n      target[key] = image[key];\n    }\n  }\n}\n\nexport default extend;\n","function replaceAll(input: string, ...what: string[][]) {\r\n  var result = input;\r\n\r\n  for (var i = 0; i < what.length; i++) {\r\n    result = result.split(what[i][0]).join(what[i][1]);\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nexport default replaceAll;\r\n","function prepend(input: string, what: string) {\r\n  return what + input;\r\n}\r\n\r\nfunction append(input: string, what: string) {\r\n  return input + what;\r\n}\r\n\r\nfunction wrap(input: string) {\r\n  return `'${input}'`\r\n}\r\n\r\nexport { prepend, append, wrap }\r\n","function isValid(input: string) {\r\n  return document.createElement(input).toString() != '[object HTMLUnknownElement]';\r\n}\r\n\r\nexport default isValid;\r\n","function getPropType(name: string) {\r\n  return {\r\n    dynamic: name.startsWith(':'),\r\n    event: name.includes('@'),\r\n    loop: name.includes('i-for'),\r\n    model: name.includes('i-model'),\r\n    conditional: name.includes('i-if'),\r\n    customEvent: name.startsWith('i-on:')\r\n  }\r\n}\r\n\r\nexport default getPropType;\r\n","import replaceAll from \"@/util/string/replace-all\";\r\n\r\nfunction extractLoopParams(input: string) {\r\n  const split = input.split(' in ');\r\n\r\n  const firstPart = split[0];\r\n\r\n  const bunch = split[1].trim();\r\n  const iterator = replaceAll(firstPart.split(',')[1] || '', ['(', ''], [')', '']).trim();\r\n  const variable = replaceAll(firstPart.split(',')[0] || '', ['(', ''], [')', '']).trim();\r\n\r\n  return { variable, iterator, bunch };\r\n}\r\n\r\nexport default extractLoopParams;\r\n","const RESTORING_KEY = 'irisisthebest';\r\n\r\nfunction hasUpperCase(input: string) {\r\n  return /[A-Z]/.test(input);\r\n}\r\n\r\nfunction markUpperCase(input: string, key: string) {\r\n  const split = input.split('');\r\n\r\n  for (let i = 0; i < split.length; i++) {\r\n    if (/[a-zA-Z]/.test(split[i]) && split[i] === split[i].toUpperCase()) {\r\n      split[i] = key + split[i];\r\n    }\r\n  }\r\n\r\n  return split.join('');\r\n}\r\n\r\nfunction restoreUpperCase(input: string, key: string) {\r\n  const split = input.split(key);\r\n\r\n  const capitalized = input.startsWith(key);\r\n\r\n  for (let i = 0; i < split.length; i++) {    \r\n    var firstChar = split[i].charAt(0);\r\n\r\n    if (i === 0) {\r\n      if (capitalized) {\r\n        firstChar = firstChar.toUpperCase();\r\n      }\r\n    } else {\r\n      firstChar = firstChar.toUpperCase();\r\n    }\r\n\r\n    split[i] = firstChar + split[i].substring(1, split[i].length);\r\n  }\r\n\r\n  return split.join('');\r\n}\r\n\r\nexport { hasUpperCase, markUpperCase, restoreUpperCase, RESTORING_KEY }\r\n","import replaceAll from '@/util/string/replace-all';\r\nimport getPropType from './util/get-prop-type';\r\nimport { append, wrap, prepend } from '@/util/string/modifying';\r\nimport extractLoopParams from './util/extract-loop-params';\r\nimport { restoreUpperCase, RESTORING_KEY } from './util/property-cases';\r\n\r\nfunction computeProperties(el: Element, result: string, component: Component) {\r\n  var output = '{';\r\n\r\n  var handledResult = result;\r\n\r\n  for (let i = 0; i < el.attributes.length; i++) {\r\n    const name = restoreUpperCase(el.attributes[i].name, RESTORING_KEY);\r\n\r\n    const value = replaceAll(\r\n      el.attributes[i].value,\r\n      ['state', 'this.state'],\r\n      ['props', 'this.props']\r\n    );\r\n\r\n    const {\r\n      dynamic,\r\n      event,\r\n      loop,\r\n      model,\r\n      conditional,\r\n      customEvent\r\n    } = getPropType(name);\r\n\r\n    if (dynamic) {\r\n      output = append(output, `\"${name.replace(':', '')}\":`);\r\n      output = append(output, dynamic ? `${value}` : `\"${value}\"`);\r\n    } else if (event) {\r\n      const event = name.split('.')[0];\r\n      const modifier = name.split('.')[1];\r\n\r\n      const modifiers: IIterable<string> = {\r\n        prevent: 'event.preventDefault();',\r\n        stop: 'event.stopPropagation();',\r\n      };\r\n\r\n      output = append(output, `\"on${event.replace('@', '')}\":`);\r\n      output = append(\r\n        output,\r\n        `() => { ${modifier ? modifiers[modifier] : ''} this.${\r\n          value.includes('(') ? value : append(value, '()')\r\n        } }`\r\n      );\r\n    } else if (loop) {\r\n      const { variable, iterator, bunch } = extractLoopParams(value);\r\n      handledResult = `${bunch}.map((${variable} ${iterator ? `,${iterator}` : ''}) => ${result})`;\r\n    } else if (conditional) {\r\n      /**\r\n       * Where might me some issues with this.\r\n       * If so => Iris.createElement('div', null) insead of ' '\r\n       */\r\n      handledResult = `${value} ? ${result} : ' '`;\r\n    } else if (model) {\r\n      const inputType = (el as HTMLInputElement).type;\r\n\r\n      const events: IIterable<string> = {\r\n        text: 'oninput',\r\n        checkbox: 'onclick',\r\n      };\r\n\r\n      const values: IIterable<string> = {\r\n        text: 'value',\r\n        checkbox: 'checked',\r\n      };\r\n\r\n      const matchEvent = events[inputType];\r\n      const matchValue = values[inputType];\r\n\r\n      if (matchEvent && matchValue) {\r\n        output = append(output, append(wrap(matchValue), ':'));\r\n        output = append(output, prepend(value, 'this.state.'));\r\n        output = append(output, ',');\r\n\r\n        output = append(output, append(wrap(matchEvent), ':'));\r\n        output = append(\r\n          output,\r\n          `() => { this.setState({ ${value}: event.target.${matchValue} }) }`\r\n        );\r\n      } else {\r\n        output = append(output, append(wrap('model'), ':'));\r\n        output = append(output, prepend(value, 'this.state.'));\r\n        output = append(output, ',');\r\n\r\n        component.childEvents.push({\r\n          childEvent: 'set-model',\r\n          parentEvent: `set-${value}`,\r\n        });\r\n      }\r\n    } else if (customEvent) {\r\n      const childEvent = name.split(':')[1];\r\n      const parentEvent = value;\r\n\r\n      component.childEvents.push({\r\n        childEvent,\r\n        parentEvent,\r\n      });\r\n    } else {\r\n      output = append(output, append(wrap(name), ':'));\r\n      output = append(output, wrap(value));\r\n    }\r\n\r\n    output = append(output, ',');\r\n  }\r\n\r\n  output = append(output, '}');\r\n\r\n  output = replaceAll(\r\n    output,\r\n    ['{,', '{'],\r\n    [',}', '}'],\r\n    ['class', 'className'],\r\n    ['classname', 'className']\r\n  );\r\n\r\n  return { propString: output, handledResult };\r\n}\r\n\r\nexport default computeProperties;\r\n","function removeSelfClosingTags(html: string) {\r\n  const endSplit = html.split('/>');\r\n  var result = '';\r\n\r\n  for (let i = 0; i < endSplit.length - 1; i++) {\r\n    const startSplit = endSplit[i].split('<');\r\n\r\n    result += `${endSplit[i]}></${startSplit[startSplit.length - 1].split(' ')[0]}>`;\r\n  }\r\n\r\n  return result + endSplit[endSplit.length - 1];\r\n}\r\n\r\nexport default removeSelfClosingTags;","import countMatches from \"@/util/string/count-matches\";\r\nimport { hasUpperCase, markUpperCase, RESTORING_KEY } from \"./property-cases\";\r\n\r\nfunction markProps(input: string) {  \r\n  const props = (input.match(/\\b\\s(.*?)\\b=/gm) || []).map((el) => el.replace('=', ''));\r\n  const marked = [];\r\n\r\n  for (let i = 0; i < props.length; i++) {\r\n    const count = countMatches(props[i], ' ');\r\n\r\n    const prop = props[i].split(' ')[count];\r\n\r\n    if (hasUpperCase(prop)) {\r\n      marked.push({\r\n        original: prop,\r\n        marked: markUpperCase(prop, RESTORING_KEY),\r\n      });\r\n    }\r\n  }\r\n\r\n  return marked;\r\n}\r\n\r\nexport default markProps;\r\n","import replaceAll from '@/util/string/replace-all';\nimport { wrap } from '@/util/string/modifying';\n\nimport isValid from './util/is-valid';\nimport computeProperties from './compute-properties';\nimport removeSelfClosingTags from './util/remove-self-closing-tags';\nimport markProps from './util/mark-props';\n\nconst TAG_NAME = 'TAG_NAME';\nconst PROPS = 'PROPS';\nconst CHILDREN = 'CHILDREN';\nconst TEMPLATE = `Iris.createElement(${TAG_NAME},${PROPS},${CHILDREN})`;\n\nfunction stringToHyperscript(input: string, context: Component) {\n  var el: HTMLElement = document.createElement('div');\n\n  input = removeSelfClosingTags(input);\n\n  const marked = markProps(input);\n\n  for (let i = 0; i < marked.length; i++) {\n    input = replaceAll(input, [` ${marked[i].original}=`, ` ${marked[i].marked}=`]);\n  }\n\n  el.innerHTML = input;\n  el = el.firstElementChild as HTMLElement;\n\n  function iterate(el: HTMLElement, item?: any) {\n    let result = TEMPLATE;\n\n    const tagName = el?.tagName;\n\n    if (!tagName) {\n      var nodeValue = ((el as Element).nodeValue as string).trim();\n\n      nodeValue = replaceAll(\n        nodeValue,\n        ['{{', \"'+\"],\n        ['}}', \"+'\"],\n        ['state', 'this.state'],\n        ['props', 'this.props']\n      );\n\n      return wrap(nodeValue);\n    }\n\n    const childNodes = el.childNodes;\n\n    var components: IIterable<any> = {};\n\n    for (const [key, value] of Object.entries((context.components as any) || {})) {\n      components[key.toLowerCase()] = { key, value };\n    }\n\n    const tagIsValid = isValid(tagName.toLowerCase());\n\n    if (tagIsValid) {\n      result = result.replace(TAG_NAME, `'${tagName.toLowerCase()}'`);\n    } else {\n      const isComponent = tagName.toLowerCase() in components;\n\n      if (isComponent) {\n        result = result.replace(TAG_NAME, `${components[tagName.toLowerCase()].key}`);\n      }\n    }\n\n    const { propString, handledResult } = computeProperties(el, result, context);\n\n    result = handledResult;\n\n    result = result.replace(PROPS, propString);\n\n    var children: any[] = [];\n\n    for (let i = 0; i < childNodes.length; i++) {\n      const child = iterate(childNodes[i] as HTMLElement, item);\n\n      children.push(child);\n    }\n\n    for (let i = 0; i < children.length; i++) {\n      if (!!children[i].split(\"'\").join('').trim()) {\n        result = result.replace(`,${CHILDREN}`, `,${children[i]},${CHILDREN}`);\n      }\n    }\n\n    result = result.replace(`,${CHILDREN}`, '');\n\n    return result;\n  }\n\n  const result = 'return function render() { return ' + iterate(el) + '}';\n\n  return Function(result);\n}\n\nexport default stringToHyperscript;\n","import {\n  isObject,\n  isString,\n  isInstantiable,\n  isArray,\n  isNotEmptyObj,\n  arrForEach,\n} from '@/util/helpers';\n\nimport { addListener } from '@/vdom/util/listeners';\n\nimport { NOKEY } from '@/vdom/diff/operations';\n\nimport Iris from '@/core/iris';\n\nimport modifyRender from '@/vdom/render/modify-render';\n\nimport Component from '@/core/component';\n\nimport { ON_INIT, BEFORE_RENDER } from '@/util/hooks';\n\nimport extractKeyIdPair from './util/ids-keys';\nimport getPrototype from '@/util/get-prototype';\nimport extend from './util/extend';\nimport stringToHyperscript from '@/parse';\n\n/**\n * Virtual Node a.k.a Virtual Tree\n *\n * The core of Iris.\n */\nclass VNode {\n  tagName: string | TInstantiable<Component>;\n  props: IIterable<any> | null;\n  children: VNode[] | string[];\n\n  key?: string;\n  component?: Component;\n  scope?: IIterable<any>;\n  count: number;\n\n  /**\n   * VNodes can represent both components\n   * and default html elements.\n   * That's why we need to detect whether it needs\n   * a component instance attached to it or not.\n   */\n  constructor(\n    tagName: string | TInstantiable<Component>,\n    props?: IIterable<any> | null | {},\n    children?: VNode[]\n  ) {\n    /**\n     * To identify components and their instances\n     * I used unique ids which get attached by modifying\n     * the user-defined render() functions.\n     *\n     * It's stored as _id to prevent Iris from recognizing it\n     * as the valid HTML id-attribute.\n     */\n\n    /**\n     * If tagName is an instance of Component.\n     */\n    if (isInstantiable(tagName)) {\n      const Constructor: TInstantiable<Component> = tagName as TInstantiable<Component>;\n\n      const name = getPrototype<Component>(Constructor).constructor.name;\n\n      /**\n       * Extending the component's prototype,\n       * considering, that it's not inheriting from Iris.Component.\n       */\n      extend(Constructor.prototype, Component.prototype);\n\n      /**\n       * key - is given by the user.\n       * _id - is set programmatically.\n       */\n      const { key, parent } = extractKeyIdPair(props);\n\n      /**\n       * Attempt to find an existing instance of the component by its key and _id.\n       */\n      if (!key) {\n        this.component = new Constructor();\n      } else {\n        const matchComponent = Iris.components.find(\n          (component) => component.key === key && component.name === name\n        );\n\n        if (matchComponent) {\n          this.component = matchComponent.instance as Component;\n        } else {\n          this.component = new Constructor();\n\n          Iris.components.push({\n            instance: this.component,\n            name: name,\n            key: key,\n            parent,\n          });\n        }\n      }\n\n      this.component.init();\n\n      this.component.setProps(props);\n\n      this.component.extendScope(Iris.toInject);\n\n      if (!getPrototype<Component>(Constructor).$render) {\n        const renderResult = this.component.render.apply(this.component, <[]>(\n          (<any>[Iris.createElement])\n        ));\n\n        if (isString(renderResult)) {\n          getPrototype<Component>(Constructor).$render = stringToHyperscript(\n            renderResult as string,\n            this.component\n          )();\n        } else {\n          getPrototype<Component>(Constructor).$render = this.component.render as (\n            h?: THyperscript\n          ) => VNode;\n        }\n      }\n\n      /**\n       * Modifying the render function provided by the user.\n       * Each component declaration gets a specific computed id\n       * based on its path and eventually key.\n       */\n      if (!getPrototype<Component>(Constructor).$render.toString().includes('___mod')) {\n        getPrototype<Component>(Constructor).$render = modifyRender(\n          this.component.$render,\n          name,\n          key\n        );\n      }\n\n      this.component.lastRender = this.component.$render.apply(this.component, <[]>(\n        (<any>[Iris.createElement])\n      )) as VNode;\n\n      this.component.vNode = this;\n\n      /**\n       * Modifying properties if tagName is a Component.\n       * tagName then becomes the wrapper of Component.render()\n       * and children are its rendered children.\n       */\n      tagName = this.component.lastRender.tagName;\n      children = this.component.lastRender.children as VNode[];\n    }\n\n    this.tagName = tagName;\n    this.props = isObject(props as IIterable<any>) ? (props as IIterable<any>) : {};\n\n    this.children =\n      (children as []) ||\n      (!isNotEmptyObj(this.props) && ((isString(props) && [props]) || (isArray(props) && props))) ||\n      [];\n\n    this.key = this.props ? this.props.key : void NOKEY;\n\n    /**\n     * Counting children to be able\n     * to identify them whithin a vnode.\n     */\n    var count = 0;\n\n    arrForEach(this.children, (item: VNode, index: number) => {\n      if (item instanceof VNode) {\n        count += item.count;\n      } else {\n        this.children[index] = '' + item;\n      }\n      count++;\n    });\n\n    this.count = count;\n  }\n\n  /**\n   * vNode2Element\n   */\n  render(): Element {\n    var $root = document.createElement(this.tagName as string);\n\n    if (this.isComponent()) {\n      const component: Component = this.component as Component;\n\n      /**\n       * There's only one case if component doesn't have a parent.\n       * If it's an app itself.\n       */\n      if (!component.parent) {\n        if (this.props) {\n          const { parent } = this.props;\n\n          if (parent) {\n            const match = Iris.components.find(\n              (component) => component.key === parent.key && component.name === parent.name\n            );\n\n            if (match) {\n              component.parent = match.instance;\n            }\n          }\n        }\n\n        if (!component.parent && Iris.vApp.component) {\n          component.parent = Iris.vApp.component;\n        }\n      }\n\n      if (component.lastRender) {\n        extend(this.props, component.lastRender.props);\n      }\n    }\n\n    /**\n     * If an attribute starts with 'on', it's an event.\n     */\n    for (const [attribute, value] of Object.entries(this.props as IIterable<string | boolean>)) {\n      if (!attribute.startsWith('on')) {\n        /**\n         * Checking if it's a valid HTML attribute.\n         */\n        const exists = attribute in $root;\n\n        if (value === false || value === true) {\n          if (value) {\n            $root.setAttribute(attribute, '');\n          } else {\n            $root.removeAttribute(attribute);\n          }\n\n          break;\n        }\n\n        if (exists) {\n          $root.setAttribute(attribute !== 'className' ? attribute : 'class', value);\n        }\n      }\n    }\n\n    for (const [attribute, value] of Object.entries(this.props as IIterable<string>)) {\n      if (attribute.startsWith('on')) {\n        addListener($root, attribute.replace('on', '').toLocaleLowerCase(), value);\n      }\n    }\n\n    /**\n     * Rendering and appending the children.\n     */\n    arrForEach(this.children, (child: VNode | string) => {\n      const childDom = child instanceof VNode ? child.render() : document.createTextNode(child);\n\n      if (child instanceof VNode) {\n        if (child.isComponent()) {\n          Iris.hook(child.component as any, BEFORE_RENDER, { arguments: [childDom] });\n        }\n      }\n\n      $root.appendChild(childDom);\n    });\n\n    if (this.isComponent()) {\n      if (!(this.component as any).$onInitFired) {\n        Iris.hook(this.component as any, ON_INIT);\n\n        (this.component as any).$onInitFired = true;\n      }\n\n      (this.component as any).$root = $root;\n    }\n\n    return $root;\n  }\n\n  isComponent() {\n    return Boolean(this.component);\n  }\n}\n\nexport default VNode;\n","import VNode from \"./vnode\";\r\n\r\n/**\r\n * Hyperscript.\r\n */\r\nfunction createElement(\r\n  tagName: string | TInstantiable<Component>,\r\n  props?: IIterable<any> | null | {},\r\n  ...children: VNode[]\r\n): VNode {\r\n  const hasChildren = (children || []).length > 0;\r\n  const rawChildren = hasChildren ? [].concat(...(children as any)) : [];\r\n\r\n  return new VNode(tagName, props, rawChildren);\r\n}\r\n\r\nexport default createElement;\r\n","class Plugin {\n  injectIntoComponent(): IIterable<any> { return {} }\n  injectIntoIris(): IIterable<any> { return {} }\n}\n\nexport default Plugin;\n","import Component from \"@/core/component\";\n\ninterface IComponent {\n  instance: Component;\n  name: string;\n  key: string;\n  parent: {\n    name: string;\n    key: string;\n  }\n}\n\nclass Components {\n  items: IComponent[];\n\n  constructor() {\n    this.items = [];\n  }\n\n  push(component: IComponent) {\n    this.items.push(component);\n  }\n\n  find(predicate: (value: IComponent, index: number, obj: IComponent[]) => unknown): IComponent | undefined {\n    return this.items.find(predicate);\n  }\n\n  remove(predicate: (value: IComponent, index: number, obj: IComponent[]) => unknown) {    \n    const index = this.items.findIndex(predicate);\n    \n    this.items.splice(index, 1);\n  }\n\n  getUnique(id: string | number): Component | undefined {\n    return this.items.find(component => component.instance.id === id)?.instance;\n  }\n}\n\nexport default Components;\n","import Iris from '@/core/iris';\nimport Plugin from '@/plugins/plugin';\n\nfunction install(plugin: Plugin) {\n  Object.assign(Iris.toInject, plugin.injectIntoComponent());\n  \n  for (const [key, value] of Object.entries(plugin.injectIntoIris())) {\n    Object.defineProperty(Iris, key, {\n      value\n    });\n  }\n}\n\nexport default install;\n","\n\nfunction arraysMatch(arr1: any[], arr2: any[]) {\n\tif (arr1.length !== arr2.length) return false;\n\n\tfor (var i = 0; i < arr1.length; i++) {\n\t\tif (arr1[i] !== arr2[i]) return false;\n\t}\n\n\treturn true;\n};\n\nclass FunctionCache {\n  items: ICached[];\n\n  constructor() {\n    this.items = [];\n  }\n\n  put(key: string | number, args: any[], result: any): void {\n    const cached = this.items.find(item => item.key === key);\n\n    if (cached) {\n\n      const variation = cached.variations.find(item => arraysMatch(item.args, args));\n\n      if (variation) {\n\n      } else {\n        cached.variations.push({ args, result });\n      }\n\n    } else {\n      this.items.push({\n        key,\n        variations: [\n          {\n            args,\n            result\n          }\n        ]\n      })\n    }\n  }\n\n  find(key: string | number, args: any[]): IVariation | undefined {\n    const cached = this.items.find(item => item.key === key);\n\n    if (cached) {\n      const variation = cached.variations.find(item => arraysMatch(item.args, args));\n      \n      return variation;\n    }\n  }\n}\n\nexport default FunctionCache;\n","import Component from '@/core/component';\n\nclass Empty extends Component {\n  $render(h: THyperscript) {\n    return h('div', null);\n  }\n}\n\nexport default Empty;\n","/**\n * Iris.js - a modern lightweight minimalist javascript\n *  framework for creating user interfaces.\n */\nimport { VNode, createElement } from '@/vdom';\nimport Plugin from '@/plugins/plugin';\nimport Component from '@/core/component';\nimport Components from '@/static/components';\nimport mount from '@/core/mount';\nimport install from '@/plugins/install';\nimport FunctionCache from '@/core/function-cache';\nimport Empty from '@/static/empty';\nimport hook from '@/util/hooks';\n\n/**\n * The core of Iris.\n */\nclass Iris {\n  /**\n   * Caching the functions by their arguments and results.\n   */\n  static cache: FunctionCache;\n\n  /**\n   * The storage of instantiated components.\n   */\n  static components: Components;\n\n  /**\n   * Component class for inheritance.\n   *\n   * @example class App extends Iris.Component {\n   * }\n   *\n   * @deprecated\n   */\n  static Component: typeof Component;\n\n  /**\n   * Plugin class for inheritance.\n   * @example class Store extends Iris.Plugin {\n   * }\n   *\n   * @deprecated\n   */\n  static Plugin: typeof Plugin;\n  static install: (plugin: Plugin) => void;\n\n  /**\n   * Properties and functions\n   * to inject in this reference for components.\n   */\n  static toInject: IIterable<any> = {};\n\n  /**\n   * The accessor to hyperscript.\n   */\n  static createElement: (\n    tagName: string | TInstantiable<Component>,\n    props?: IIterable<any> | null | {},\n    children?: any\n  ) => VNode;\n\n  /**\n   * The virtual app.\n   * Later needs to be extended to an array.\n   */\n  static vApp: VNode;\n\n  /**\n   * Mount the application.\n   */\n  static mount: (vApp: VNode, target: string | Element) => VNode;\n\n  /**\n   * Placeholder for <div></div>\n   */\n  static Empty: typeof Component;\n\n  static hook: (component: Component, hook: string, options?: IHookOptions) => void;\n}\n\n/**\n * Initializing the inner systems.\n */\nIris.cache = new FunctionCache(); // Caching functions.\nIris.components = new Components(); // Storing components' states.\n\nIris.Component = Component;\nIris.hook = hook;\n\nIris.Empty = Empty;\n\nIris.Plugin = Plugin;\nIris.install = install;\n\nIris.createElement = createElement;\nIris.mount = mount;\n\nexport default Iris;\n","import VNode from '@/vdom/vnode';\nimport Iris from '@/core/iris';\nimport { isString } from '@/util/helpers';\nimport { error } from '@/debug';\nimport hook from '@/util/hooks';\n\nexport default function mount(vApp: VNode, target: string | Element) {\n  const element = <Element> (isString(target) ? document.querySelector(target as string) : target);\n\n  Iris.vApp = vApp;\n\n  const $root = vApp.render();  \n  \n  if (element) {\n    element.replaceWith($root);\n  } else {\n    error('Target element not found. Provided target:', target);\n  }\n  \n  if (vApp.component) {\n    vApp.component.$prepared = true;\n    vApp.component.$onInitFired = true;\n    \n    hook(vApp.component, 'onInit');\n  }\n\n  return vApp;\n}\n","function log() {\n\n}\n\nfunction error(text: string, additional: any) {\n  console.error(`[Iris]: ${text}`, additional);\n}\n\nfunction warning() {\n\n}\n\nfunction info() {\n\n}\n\nexport { log, error, warning, info }\n","import Iris from '@/core/iris';\n\nclass StateManager extends Iris.Plugin {\n  state: IIterable<any> = {};\n\n  constructor(initialState: IIterable<any>) {\n    super();\n\n    Object.assign(this.state, initialState);\n  }\n\n  setState(newState: IIterable<any>) {\n    this.state = Object.assign(this.state, newState);\n  \n    if (Iris.vApp.component) {\n      Iris.vApp.component.forceUpdate()\n    }\n  }\n\n  injectIntoComponent() {\n    return {\n      $store: {\n        state: this.state,\n        setState: this.setState\n      }\n    }\n  }\n}\n\nexport default StateManager;\n","import Iris from '@/core/iris';\n\ninterface IRequestOptions {\n  method: 'GET' | 'POST' | 'HEAD' | 'PUT' | 'CONNECT' | 'OPTIONS' | 'TRACE' | 'PATCH' | 'DELETE';\n  url: string;\n  data: any;\n}\n\ninterface IResponse {\n  data: any;\n  status: number;\n  url: string;\n}\n\nclass Ajax extends Iris.Plugin {\n  request(options: IRequestOptions): Promise<IResponse> {\n    return new Promise((resolve, reject) => {\n      var xhttp = new XMLHttpRequest();\n  \n      xhttp.onreadystatechange = function() {\n        if (this.readyState == 4 && this.status == 200) {\n          resolve({\n            data: JSON.parse(this.responseText),\n            status: this.status,\n            url: this.responseURL\n          });\n        }\n      };\n  \n      xhttp.open(options.method, options.url, true);\n      xhttp.send();\n    })\n  }\n\n  injectIntoComponent() {\n    return {\n      $ajax: {\n        request: this.request\n      }\n    }\n  }\n}\n\nexport default Ajax;\n","function getUrl(baseUrl?: string) {\n  return window.location.href.replace(`${window.location.origin}${baseUrl || ''}`, '');\n}\n\nexport default getUrl;\n","import getUrl from './util/get-url';\nimport Router from '.';\n\nconst ON_ENTER = 'onEnter';\nconst ON_LEAVE = 'onLeave';\n\nfunction handleNavigation(this: Component) {\n  const instance = this;\n\n  const leavingComponent = Iris.components.find(\n    (item) => item.key === (instance.state as IIterable<any>).route\n  );\n\n  if (leavingComponent) {\n    Iris.hook(leavingComponent.instance, ON_LEAVE);\n  }\n\n  const route = getUrl(Router.baseUrl);\n\n  instance.setState({\n    route,\n  });\n\n  const enteringComponent = Iris.components.find((item) => item.key === route);\n\n  if (enteringComponent) {\n    Iris.hook(enteringComponent.instance, ON_ENTER);\n  }\n}\n\nexport default handleNavigation;\n","import getUrl from './util/get-url';\nimport Router from '.';\nimport handleNavigation from './handleNavigation';\n\nclass View {\n  id = 'router.view';\n\n  state = {\n    route: getUrl(Router.baseUrl),\n  };\n\n  onInit() {\n    const instance: Component = <any>this;\n\n    const pushState = history.pushState;\n\n    history.pushState = function () {\n      pushState.apply(history, arguments as any);\n\n      handleNavigation.call(instance);\n    };\n\n    window.onpopstate = function () {\n      handleNavigation.call(instance);\n    };\n  }\n\n  $render(h: THyperscript) {\n    return h(\n      'div',\n      null,\n      h(\n        (this as any).$router.routes.find((view: any) => view.path === this.state.route).component, { key: this.state.route }\n      )\n    );\n  }\n}\n\nexport default View;\n","import View from './view';\n\nclass Router {\n  routes: IRoute[];\n  static baseUrl: string;\n  \n  constructor({ routes, baseUrl }: IRouterOptions) {\n    this.routes = routes;\n    Router.baseUrl = baseUrl || '/';\n  }\n\n  go(url: string) {\n    window.history.pushState('', '', url);\n\n    const view = Iris.components.getUnique('router.view');\n\n    view?.setState({\n      route: url.replace(Router.baseUrl, ''),\n    });\n  }\n\n  injectIntoComponent(): { $router: IRouter } {\n    return {\n      $router: {\n        go: this.go,\n        routes: this.routes\n      },\n    };\n  }\n\n  injectIntoIris() {\n    return {\n      Router: View,\n    };\n  }\n}\n\nexport default Router;\n","import declareGlobally from './util/declare-globally';\n\nimport Iris from '@/core/iris';\n\ndeclareGlobally(Iris, 'Iris');\n\nimport StateManager from '@/plugins/examples/state-manager';\nimport Ajax from '@/plugins/examples/ajax';\nimport Router from '@/plugins/examples/router/index';\n\ndeclareGlobally(StateManager, 'StateManager');\ndeclareGlobally(Ajax, 'Ajax');\ndeclareGlobally(Router, 'Router');\n"],"sourceRoot":""}