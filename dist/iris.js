!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=13)}([function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t,n){var r=n(3);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t,n){var r=n(7),i=n(8),o=n(4),a=n(9);e.exports=function(e){return r(e)||i(e)||o(e)||a()}},function(e,t,n){var r=n(10),i=n(11),o=n(4),a=n(12);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()}},function(e,t,n){var r=n(3);e.exports=function(e){if(Array.isArray(e))return r(e)}},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),o=n(2),a=n.n(o),c=n(0),s=n.n(c),u=n(5),l=n.n(u),f=n(6),p=n.n(f);function d(e){return Object.prototype.toString.call(e).replace(/\[object\s|\]/g,"")}function h(e){return"Object"===d(e)}function v(e){return"String"===d(e)}function y(e){return h(e)&&"{}"!=JSON.stringify(e)}function m(e,t){y(e)&&Object.keys(e).forEach(t)}function b(e,t){e.length&&e.forEach(t)}var g={};function x(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t in g||(g[t]=[]),g[t].push({node:e,handler:n,capture:r}),e.addEventListener(t,n,r)}var k=0;var w=function(e,t){var n=[],r=e.match(/\w*Component\b/g);if(r){for(var i=0;i<r.length;i++){var o=k++;n.push(o),e=e.replace("".concat(r[i],", null"),"".concat(r[i],",{id:'").concat(t).concat(o,"'}"))}for(i=0;i<r.length;i++){var a=k++;n.push(a),e=e.replace("".concat(r[i],", {"),"".concat(r[i],",{id:'").concat(t).concat(a,"',"))}}return{str:e,ids:n}};var N=function(e,t){var n=e.toString().replace("function","return function");return n=w(n,t).str,Function(n)()};var O=function(e){return(e&&e.id?e.id:"")+(e&&e.key?e.key:"")},A=[],j=function(){function e(t,n,r){var o=this;i()(this,e),s()(this,"tagName",void 0),s()(this,"props",void 0),s()(this,"children",void 0),s()(this,"parent",void 0),s()(this,"key",void 0),s()(this,"instance",void 0),s()(this,"count",void 0);var a=O(n);if("Function"===d(t)){var c=t;if(a){var u=A.find((function(e){return e.id===a}));u&&(this.instance=u.instance,this.instance.redefineProps(n)),this.instance||(this.instance=new c(n),A.push({instance:this.instance,id:a}))}else this.instance=new c(n);this.instance.render=N(this.instance.render,a),this.instance.lastRender=this.instance.render(),this.instance.vNode=this,t=this.instance.lastRender.tagName,r=this.instance.lastRender.children}this.tagName=t,this.props=h(n)?n:{},this.children=r||!y(this.props)&&(v(n)&&[n]||"Array"===d(n)&&n)||[],this.key=n?n.key:void 0;var l=0;if(b(this.children,(function(t,n){t instanceof e?l+=t.count:o.children[n]=""+t,l++})),this.count=l,this.instance){this.parent||(this.parent=M.vApp);var f=[];!function e(t){for(var n=0;n<t.children.length;n++)t.children[n].instance?f.push(t.children[n]):v(t.children[n])&&e(t.children[n])}(this);for(var p=0;p<f.length;p++)f[p].parent=this}}return a()(e,[{key:"render",value:function(){var t=document.createElement(this.tagName);if(this.instance)this.instance.$root=t,!this.parent&&M.vApp&&(this.parent=M.vApp);else for(var n=0,r=Object.entries(this.props||{});n<r.length;n++){var i=p()(r[n],2),o=i[0],a=i[1];o.startsWith("on")?x(t,o.replace("on","").toLocaleLowerCase(),a):t.setAttribute(o,a)}return b(this.children,(function(n){var r=n instanceof e?n.render():document.createTextNode(n);t.appendChild(r)})),t}}]),e}();function S(e,t){for(var n={},r=[],i=0,o=e.length;i<o;i++){var a=e[i],c=P(a,t);c?n[c]=i:r.push(a)}return{keyIndex:n,free:r}}function P(e,t){if(e&&t)return"string"==typeof t?e[t]:t(e)}var C=function(e,t,n){for(var r,i,o=S(e,n),a=S(t,n),c=a.free,s=o.keyIndex,u=a.keyIndex,l=[],f=[],p=0,d=0;p<e.length;){if(i=P(r=e[p],n))if(u.hasOwnProperty(i)){var h=u[i];f.push(t[h])}else f.push(null);else{var v=c[d++];f.push(v||null)}p++}var y=f.slice(0);for(p=0;p<y.length;)null===y[p]?(x(p),w(p)):p++;for(var m=p=0;p<t.length;){i=P(r=t[p],n);var b=y[m],g=P(b,n);if(b)if(i===g)m++;else if(s.hasOwnProperty(i))P(y[m+1],n)===i?(x(p),w(m),m++):k(p,r);else k(p,r);else k(p,r);p++}function x(e){var t={index:e,type:0};l.push(t)}function k(e,t){var n={index:e,item:t,type:1};l.push(n)}function w(e){y.splice(e,1)}return{moves:l,children:f}};function I(e,t,n,r){var i=[];if(null!==t){if(v(e)&&v(t))e!==t&&i.push({type:"text",content:t});else if(e.tagName===t.tagName&&e.key===t.key){if(y(e.props)||y(t.props)){var o=function(e,t){var n=!1,r=e.props||{},i=t.props||{},o={};return m(r,(function(e){i[e]===r[e]&&r.hasOwnProperty(e)||(!n&&(n=!0),o[e]=i[e])})),n?o:null}(e,t);e.instance||o&&i.push({type:"props",props:o})}!y(t.props)&&(t.props||{}).hasOwnProperty("ignore")||(e.children.length||t.children.length)&&function(e,t,n,r,i){var o=C(e,t,"key");t=o.children,o.moves.length&&i.push({type:"reorder",moves:o.moves});var a=null,c=n;b(e,(function(e,n){var i=t[n];c=a&&a.count?c+a.count+1:c+1,e!==i&&I(e,i,c,r),a=e}))}(e.children,t.children,n,r,i)}else i.push({type:"replace",node:t});i.length&&(r[n]=i)}}var T=function(e,t){var n={};return I(e,t,0,n),n};var _=function(e,t){!function e(t,n,r){var i=r[n.index];t.childNodes&&b(t.childNodes,(function(t){n.index++,e(t,n,r)})),i&&function(e,t){b(t,(function(t){switch(t.type){case"replace":var n=v(t.node)?document.createTextNode(t.node):t.node.render();e.parentNode.replaceChild(n,e);break;case"reorder":!function(e,t){var n=function(e){if(!e)return[];var t=[];return b(e,(function(e){t.push(e)})),t}(e.childNodes),r={};b(n,(function(e){if(1===e.nodeType){var t=e.getAttribute("key");t&&(r[t]=e)}})),b(t,(function(t){var i=t.index;if(0===t.type){if(!e.childNodes[i])return;n[i]===e.childNodes[i]&&e.removeChild(e.childNodes[i]),n.splice(i,1)}else if(1===t.type){var o;r[t.item.key]?(o=e.removeChild(r[t.item.key]),n.splice(Array.prototype.indexOf.call(e.childNodes,r[t.item.key]),1)):o=h(t.item)?t.item.render():document.createTextNode(t.item),n.splice(i,0,o),e.insertBefore(o,e.childNodes[i]||null)}}))}(e,t.moves);break;case"props":!function(e,t){m(t,(function(n){void 0===t[n]?e.removeAttribute(n):function(e,t,n){switch(t){case"style":e.style.cssText=n;break;case"value":var r=e.tagName||"";"input"===(r=r.toLowerCase())||"textarea"===r?e.value=n:e.setAttribute(t,n);break;default:e.setAttribute(t,n)}}(e,n,t[n])}))}(e,t.props);break;case"text":e.textContent?e.textContent=t.content:e.nodeValue=t.content;break;default:throw new Error("Unknown patch type "+t.type)}}))}(t,i)}(e,{index:0},t)};var E=function(){function e(t){i()(this,e),s()(this,"id",void 0),s()(this,"props",void 0),s()(this,"state",void 0),s()(this,"lastRender",void 0),s()(this,"$root",void 0),s()(this,"vNode",void 0),s()(this,"parent",void 0),this.props=t}return a()(e,[{key:"setState",value:function(e){this.state=Object.assign(this.state,e),this.forceUpdate()}},{key:"forceUpdate",value:function(){var e=this.render(),t=T(this.lastRender,e);this.lastRender=e,_(this.$root,t)}},{key:"onInit",value:function(){}},{key:"redefineProps",value:function(e){this.props=e}},{key:"dispatch",value:function(e,t){if(this.vNode&&this.vNode.parent){var n=this.vNode.parent.instance;if(n){var r=function(e){return e.__proto__}(n)[e];r&&r.call(n,t)}}}}]),e}(),R=function(){function e(){i()(this,e)}return a()(e,null,[{key:"mount",value:function(t,n){var r=document.querySelector(n),i=t.render();e.vApp=t,r&&r.replaceWith(i)}}]),e}();s()(R,"Component",E),s()(R,"createElement",(function(e,t){for(var n,r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];var a=i.length>0,c=a?(n=[]).concat.apply(n,l()(i)):[];return new j(e,t,c)})),s()(R,"vApp",void 0);var M=t.default=R;window.Iris=R}]);
//# sourceMappingURL=iris.js.map