!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=13)}([function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t,n){var r=n(3);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t,n){var r=n(7),o=n(8),i=n(4),c=n(9);e.exports=function(e){return r(e)||o(e)||i(e)||c()}},function(e,t,n){var r=n(10),o=n(11),i=n(4),c=n(12);e.exports=function(e,t){return r(e)||o(e,t)||i(e,t)||c()}},function(e,t,n){var r=n(3);e.exports=function(e){if(Array.isArray(e))return r(e)}},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),i=n(0),c=n.n(i),a=n(5),s=n.n(a),u=n(6),p=n.n(u),f=n(2),l=n.n(f);function d(e){return Object.prototype.toString.call(e).replace(/\[object\s|\]/g,"")}function h(e){return"Object"===d(e)}function v(e){return"String"===d(e)}function m(e){return h(e)&&"{}"!=JSON.stringify(e)}function y(e,t){m(e)&&Object.keys(e).forEach(t)}function b(e,t){e.length&&e.forEach(t)}var g={};function x(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t in g||(g[t]=[]),g[t].push({node:e,handler:n,capture:r}),e.addEventListener(t,n,r)}var k=0;var w=function(e,t){var n=e.match(/\w*Component\b/g);if(n){for(var r=0;r<n.length;r++){var o=k++;e=e.replace("".concat(n[r],", null"),"".concat(n[r],",{id:'").concat(t).concat(o,"'}"))}for(r=0;r<n.length;r++){var i=k++;e=e.replace("".concat(n[r],", {"),"".concat(n[r],",{id:'").concat(t).concat(i,"',"))}}return e};var N=function(e,t){var n=e.toString().replace("function","return function");return n=w(n,t),Function(n)()};var O=function(e){return(e&&e.id?e.id:"")+(e&&e.key?e.key:"")};function A(e){return e.__proto__}var j=function(e,t){var n=A(e);if(n){var r=n[t];r&&r.call(e)}},S=function(){function e(t,n,r){var i=this;o()(this,e),c()(this,"tagName",void 0),c()(this,"props",void 0),c()(this,"children",void 0),c()(this,"parent",void 0),c()(this,"key",void 0),c()(this,"component",void 0),c()(this,"count",void 0);var a=O(n);if("Function"===d(t)){var s=t;if(a){var u=L.components.find(a);u&&(this.component=u.instance,this.component.updateProps(n)),this.component||(this.component=new s(n),j(this.component,"onInit"),L.components.push({instance:this.component,id:a}))}else this.component=new s(n),j(this.component,"onInit");this.component.render=N(this.component.render,a),this.component.lastRender=this.component.render(),this.component.vNode=this,t=this.component.lastRender.tagName,r=this.component.lastRender.children}this.tagName=t,this.props=h(n)?n:{},this.children=r||!m(this.props)&&(v(n)&&[n]||"Array"===d(n)&&n)||[],this.key=n?n.key:void 0;var p=0;if(b(this.children,(function(t,n){t instanceof e?p+=t.count:i.children[n]=""+t,p++})),this.count=p,this.component){this.parent||(this.parent=L.vApp);var f=[];!function e(t){if(t.children)for(var n=0;n<t.children.length;n++)t.children[n].instance?f.push(t.children[n]):v(t.children[n])&&e(t.children[n])}(this);for(var l=0;l<f.length;l++)f[l].parent=this}this.component&&(this.component.$prepared=!0)}return l()(e,[{key:"render",value:function(){var t=document.createElement(this.tagName);if(this.component)this.component.$root=t,!this.parent&&L.vApp&&(this.parent=L.vApp);else for(var n=0,r=Object.entries(this.props);n<r.length;n++){var o=p()(r[n],2),i=o[0],c=o[1];i.startsWith("on")?x(t,i.replace("on","").toLocaleLowerCase(),c):t.setAttribute(i,c)}return b(this.children,(function(n){var r=n instanceof e?n.render():document.createTextNode(n);t.appendChild(r)})),t}}]),e}();function C(e,t){for(var n={},r=[],o=0,i=e.length;o<i;o++){var c=e[o],a=P(c,t);a?n[a]=o:r.push(c)}return{keyIndex:n,free:r}}function P(e,t){if(e&&t)return"string"==typeof t?e[t]:t(e)}var I=function(e,t,n){for(var r,o,i=C(e,n),c=C(t,n),a=c.free,s=i.keyIndex,u=c.keyIndex,p=[],f=[],l=0,d=0;l<e.length;){if(o=P(r=e[l],n))if(u.hasOwnProperty(o)){var h=u[o];f.push(t[h])}else f.push(null);else{var v=a[d++];f.push(v||null)}l++}var m=f.slice(0);for(l=0;l<m.length;)null===m[l]?(x(l),w(l)):l++;for(var y=l=0;l<t.length;){o=P(r=t[l],n);var b=m[y],g=P(b,n);if(b)if(o===g)y++;else if(s.hasOwnProperty(o))P(m[y+1],n)===o?(x(l),w(y),y++):k(l,r);else k(l,r);else k(l,r);l++}function x(e){var t={index:e,type:0};p.push(t)}function k(e,t){var n={index:e,item:t,type:1};p.push(n)}function w(e){m.splice(e,1)}return{moves:p,children:f}};function E(e,t,n,r){var o=[];if(null!==t){if(v(e)&&v(t))e!==t&&o.push({type:"text",content:t});else if(e.tagName===t.tagName&&e.key===t.key){if(m(e.props)||m(t.props)){var i=function(e,t){var n=!1,r=e.props||{},o=t.props||{},i={};return y(r,(function(e){o[e]===r[e]&&r.hasOwnProperty(e)||(!n&&(n=!0),i[e]=o[e])})),n?i:null}(e,t);e.component||i&&o.push({type:"props",props:i})}!m(t.props)&&(t.props||{}).hasOwnProperty("ignore")||(e.children.length||t.children.length)&&function(e,t,n,r,o){var i=I(e,t,"key");t=i.children,i.moves.length&&o.push({type:"reorder",moves:i.moves});var c=null,a=n;b(e,(function(e,n){var o=t[n];a=c&&c.count?a+c.count+1:a+1,e!==o&&E(e,o,a,r),c=e}))}(e.children,t.children,n,r,o)}else o.push({type:"replace",node:t});o.length&&(r[n]=o)}}var T=function(e,t){var n={};return E(e,t,0,n),n};var _=function(e,t){!function e(t,n,r){var o=r[n.index];t.childNodes&&b(t.childNodes,(function(t){n.index++,e(t,n,r)})),o&&function(e,t){b(t,(function(t){switch(t.type){case"replace":var n=v(t.node)?document.createTextNode(t.node):t.node.render();e.parentNode.replaceChild(n,e);break;case"reorder":!function(e,t){var n=function(e){if(!e)return[];var t=[];return b(e,(function(e){t.push(e)})),t}(e.childNodes),r={};b(n,(function(e){if(1===e.nodeType){var t=e.getAttribute("key");t&&(r[t]=e)}})),b(t,(function(t){var o=t.index;if(0===t.type){if(!e.childNodes[o])return;n[o]===e.childNodes[o]&&e.removeChild(e.childNodes[o]),n.splice(o,1)}else if(1===t.type){var i;r[t.item.key]?(i=e.removeChild(r[t.item.key]),n.splice(Array.prototype.indexOf.call(e.childNodes,r[t.item.key]),1)):i=h(t.item)?t.item.render():document.createTextNode(t.item),n.splice(o,0,i),e.insertBefore(i,e.childNodes[o]||null)}}))}(e,t.moves);break;case"props":!function(e,t){y(t,(function(n){void 0===t[n]?e.removeAttribute(n):function(e,t,n){switch(t){case"style":e.style.cssText=n;break;case"value":var r=e.tagName||"";"input"===(r=r.toLowerCase())||"textarea"===r?e.value=n:e.setAttribute(t,n);break;default:e.setAttribute(t,n)}}(e,n,t[n])}))}(e,t.props);break;case"text":e.textContent?e.textContent=t.content:e.nodeValue=t.content;break;default:throw new Error("Unknown patch type "+t.type)}}))}(t,o)}(e,{index:0},t)},$=function(){function e(t){o()(this,e),c()(this,"id",void 0),c()(this,"props",void 0),c()(this,"state",void 0),c()(this,"lastRender",void 0),c()(this,"$root",void 0),c()(this,"vNode",void 0),c()(this,"parent",void 0),c()(this,"$prepared",!1),this.props=t}return l()(e,[{key:"setState",value:function(e){this.state=Object.assign(this.state,e),this.$prepared&&this.forceUpdate()}},{key:"forceUpdate",value:function(){var e=this.render(),t=T(this.lastRender,e);this.lastRender=e,_(this.$root,t)}},{key:"updateProps",value:function(e){this.props=e}},{key:"dispatch",value:function(e,t){if(this.vNode&&this.vNode.parent){var n=this.vNode.parent.component;if(n){var r=A(n)[e];r&&r.call(n,t)}}}}]),e}(),R=function(){function e(){o()(this,e),c()(this,"items",void 0),this.items=[]}return l()(e,[{key:"push",value:function(e){this.items.push(e)}},{key:"find",value:function(e){return this.items.find((function(t){return t.id===e}))}}]),e}();var M=function e(){o()(this,e)};c()(M,"components",void 0),c()(M,"Component",void 0),c()(M,"createElement",void 0),c()(M,"vApp",void 0),c()(M,"mount",void 0),M.components=new R,M.Component=$,M.createElement=function(e,t){for(var n,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var c=o.length>0,a=c?(n=[]).concat.apply(n,s()(o)):[];return new S(e,t,a)},M.mount=function(e,t){L.vApp=e;var n=document.querySelector(t),r=e.render();return n&&n.replaceWith(r),e};var L=M;window.Iris=L}]);
//# sourceMappingURL=iris.js.map